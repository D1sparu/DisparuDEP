(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[541],{7023:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/panel",function(){return n(2970)}])},2970:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return w}});var a=n(5893),c=n(7568),r=n(7582),o=n(7442),i=n.n(o),s=n(6075),l=n(7294);function u(t){var e=new Date(1e3*t),n=String(e.getHours()).padStart(2,"0"),a=String(e.getMinutes()).padStart(2,"0");return"".concat(n,":").concat(a)}function d(t){var e=new Date(1e3*t),n=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0");return"".concat(n,".").concat(a)}function _(t){return t.length>12?t.slice(0,11)+"...":t}var h=n(6042),p=n(9396),f=function(t){var e=t.link,n=t.children,c=t.onMouseEnter,r=t.onMouseLeave,o=e?"a":"div";return(0,a.jsx)(o,(0,p.Z)((0,h.Z)({},e?{href:e,target:"_blank",rel:"noreferrer"}:{}),{className:i().match_item,onMouseEnter:c,onMouseLeave:r,children:n}))},v=function(t){var e=t.match,n=t.channelId,c=t.userID,r=t.addStatHandler,o=t.panel,s=t.isFromPari,l=t.onLinkHover,h=t.onLinkLeave,p=e.link1,v=e.link2,m=e.count1,g=e.count2,x=e.logo1,k=e.logo2,b=e.team1,w=e.team2,j=e.time;return(0,a.jsxs)("div",{className:i().match,onClick:function(){return r(e,n,c)},children:[(0,a.jsxs)(f,{link:p,className:i().match_item,onMouseEnter:function(){return l(p)},onMouseLeave:h,children:[(0,a.jsxs)("div",{className:i().ratio,children:[(0,a.jsx)("div",{className:i().ration_team_name,style:{textAlign:"left",color:(null===o||void 0===o?void 0:o.team_colour)||"white"},children:_(b)}),""!==m&&(0,a.jsx)("div",{className:i().ratio_team_count,style:{color:(null===o||void 0===o?void 0:o.coef_colour)||"#30E3CE"},children:s?parseFloat(m).toFixed(2):m})]}),(0,a.jsx)("div",{className:i().matchLogo,children:x&&(0,a.jsx)("img",{src:x,alt:"logo"})})]}),(0,a.jsxs)("div",{className:i().date,children:[j&&(0,a.jsx)("div",{style:{color:(null===o||void 0===o?void 0:o.time_colour)||"#30E3CE"},children:u(j)}),j&&(0,a.jsx)("small",{style:{color:(null===o||void 0===o?void 0:o.team_colour)||"white"},children:d(j)})]}),(0,a.jsxs)(f,{link:v,className:i().match_item,onMouseEnter:function(){return l(v)},onMouseLeave:h,children:[(0,a.jsx)("div",{className:i().matchLogo,children:k&&(0,a.jsx)("img",{src:k,alt:"logo"})}),(0,a.jsxs)("div",{className:i().ratio,children:[(0,a.jsx)("div",{className:i().ration_team_name,style:{textAlign:"right",color:(null===o||void 0===o?void 0:o.team_colour)||"white"},children:_(w)}),""!==g&&(0,a.jsx)("div",{className:i().ratio_team_count,style:{color:(null===o||void 0===o?void 0:o.coef_colour)||"#30E3CE"},children:s?parseFloat(g).toFixed(2):g})]})]})]})},m=function(){var t=new Date,e=t.getDate().toString().padStart(2,"0"),n=(t.getMonth()+1).toString().padStart(2,"0"),a=t.getFullYear();return"".concat(e,",").concat(n,",").concat(a)},g=function(){var t=(0,c.Z)((function(t,e){var n;return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return n=m(),[4,(0,s.mY)("stats/all_clicks/".concat(t.id,"/").concat(n)).then((function(e){e?(0,s.nZ)("stats/all_clicks/".concat(t.id,"/").concat(n,"/clicks"),(function(t){return t&&t+1})):(0,s.JO)("stats/all_clicks/".concat(t.id,"/").concat(n),{event_name:"".concat(t.team1," vs ").concat(t.team2),clicks:1})}))];case 1:return e.sent(),[2]}}))}));return function(e,n){return t.apply(this,arguments)}}(),x=function(){var t=(0,c.Z)((function(t,e,n){var a;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return a=m(),[4,(0,s.mY)("stats/streamers/".concat(e,"/date_clicks/").concat(a)).then((function(t){t?(0,s.nZ)("stats/streamers/".concat(e,"/date_clicks/").concat(a,"/clicks"),(function(t){return t&&t+1})):(0,s.JO)("stats/streamers/".concat(e,"/date_clicks/").concat(a),{clicks:1})}))];case 1:return n.sent(),[4,(0,s.mY)("stats/streamers/".concat(e,"/event_clicks/").concat(t.id,"/").concat(a)).then((function(n){n?(0,s.nZ)("stats/streamers/".concat(e,"/event_clicks/").concat(t.id,"/").concat(a,"/clicks"),(function(t){return t&&t+1})):(0,s.JO)("stats/streamers/".concat(e,"/event_clicks/").concat(t.id,"/").concat(a),{event_name:"".concat(t.team1," vs ").concat(t.team2),clicks:1})}))];case 2:return n.sent(),[2]}}))}));return function(e,n,a){return t.apply(this,arguments)}}(),k=function(t,e,n){x(t,e,n),g(t,n)},b=function(){var t,e=(0,l.useState)(null),n=e[0],o=e[1],u=(0,l.useState)(!1),d=u[0],_=u[1],h=(0,l.useState)(null),p=h[0],m=h[1],g=(0,l.useState)(null),x=g[0],b=g[1],w=(0,l.useState)({visible:!1,text:""}),j=w[0],y=w[1];(0,l.useEffect)((function(){var t;(null===window||void 0===window||null===(t=window.Twitch)||void 0===t?void 0:t.ext)&&window.Twitch.ext.onAuthorized(function(){var t=(0,c.Z)((function(t){return(0,r.__generator)(this,(function(e){return o(t.channelId),b(t.userId),[2]}))}));return function(e){return t.apply(this,arguments)}}())}),[]),(0,l.useEffect)((function(){n&&((0,s.mY)("pari_streamers/".concat(n)).then((function(t){return _(!!t)})),s.Fs.ref("streamers/".concat(n)).on("value",function(){var t=(0,c.Z)((function(t){var e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return[4,t.val()];case 1:return e=n.sent(),m(e||{}),console.log(e),[2]}}))}));return function(e){return t.apply(this,arguments)}}()))}),[n]);var N=function(t){t&&!d&&y({visible:!0,text:"By clicking you will be redirected to:\n".concat(t)})},S=function(){y({visible:!1,text:""})};return p&&(0,a.jsxs)("section",{className:i().panel,style:{background:"url(".concat((null===p||void 0===p?void 0:p.bg)||"https://cdn.extensi.one/images/1741968148698.png",") no-repeat")},children:[(0,a.jsxs)(f,{link:p.link,children:[(null===p||void 0===p?void 0:p.upper_logo)&&(0,a.jsx)("div",{className:i().logo,children:(0,a.jsx)("img",{src:p.upper_logo,alt:"PARI"})}),(null===p||void 0===p?void 0:p.header_text)&&(0,a.jsx)("h1",{className:i().heading,style:{color:(null===p||void 0===p?void 0:p.header_color)||"black"},children:p.header_text}),(null===p||void 0===p?void 0:p.text)&&(0,a.jsx)("h2",{className:i().text,style:{color:(null===p||void 0===p?void 0:p.text_colour)||"black"},children:p.text})]}),(null===p||void 0===p||null===(t=p.events)||void 0===t?void 0:t.length)&&(0,a.jsx)("section",{className:i().matches_container,children:p.events.map((function(t,e){return(0,a.jsx)(v,{isFromPari:d,panel:p,match:t,addStatHandler:k,channelId:n,userID:x,onLinkHover:N,onLinkLeave:S},"match-".concat(e))}))}),(0,a.jsx)("div",{style:{position:"fixed",bottom:"20px",left:"50%",transform:"translateX(-50%)",background:"black",color:"white",padding:"8px 16px",borderRadius:"4px",fontSize:"14px",zIndex:1e3,whiteSpace:"pre-line",opacity:j.visible?1:0,transition:"opacity 0.2s ease-in-out",pointerEvents:"none"},children:j.text})]})},w=function(){return(0,a.jsx)(b,{})}},6075:function(t,e,n){"use strict";n.d(e,{Fs:function(){return i},JO:function(){return l},mY:function(){return s},nZ:function(){return u}});var a=n(7568),c=n(7582),r=n(5503);n(4642),n(626);r.Z.apps.length?r.Z.app():r.Z.initializeApp({apiKey:"AIzaSyAtolgDs3_2WwGik3yItW6eK10q27ITTqk",authDomain:"league-predictions-dcec9.firebaseapp.com",databaseURL:"https://pari-panel.europe-west1.firebasedatabase.app",projectId:"league-predictions-dcec9",storageBucket:"league-predictions-dcec9.appspot.com",messagingSenderId:"191790538599",appId:"1:191790538599:web:51816fb03b956131c699c2"});r.Z.app().storage();var o=r.Z.database,i=r.Z.database();o.INTERNAL.forceWebSockets();var s=function(){var t=(0,a.Z)((function(t){return(0,c.__generator)(this,(function(e){return[2,i.ref(t).get().then((function(t){if(t.exists())return t.val()})).catch((function(t){return t}))]}))}));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,a.Z)((function(t,e){return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return[4,i.ref(t).set(e)];case 1:return n.sent(),[2]}}))}));return function(e,n){return t.apply(this,arguments)}}(),u=function(){var t=(0,a.Z)((function(t,e){return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,i.ref(t).transaction(e)];case 1:return n.sent(),[3,3];case 2:return n.sent(),console.log("dbTransaction error"),[3,3];case 3:return[2]}}))}));return function(e,n){return t.apply(this,arguments)}}();!function(){var t=(0,a.Z)((function(t,e){return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,i.ref(t).update(e)];case 1:return n.sent(),[3,3];case 2:return n.sent(),console.log("dbUpdate error"),[3,3];case 3:return[2]}}))}))}()},7442:function(t){t.exports={panel:"panel_panel__e_l0p",logo:"panel_logo__RpfFd",heading:"panel_heading__FTTqa",text:"panel_text___u9dG",matches_container:"panel_matches_container__lLaTH",match:"panel_match__RHDtY",match_item:"panel_match_item__lWZol",ratio_team_count:"panel_ratio_team_count__DQP8I",date:"panel_date__Cw_LE",matchLogo:"panel_matchLogo__RF9cu",ratio:"panel_ratio__LbtDL",ration_team_name:"panel_ration_team_name__fXzG_",tooltip:"panel_tooltip__kYc8_",visible:"panel_visible__gcAfv"}}},function(t){t.O(0,[724,443,774,888,179],(function(){return e=7023,t(t.s=e);var e}));var e=t.O();_N_E=e}]);