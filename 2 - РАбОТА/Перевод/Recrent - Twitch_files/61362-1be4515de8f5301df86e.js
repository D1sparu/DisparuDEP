!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="8497ad5f-ac98-4ee3-ac48-68b904191f5c",e._sentryDebugIdIdentifier="sentry-dbid-8497ad5f-ac98-4ee3-ac48-68b904191f5c")}catch(e){}}(),(self.webpackChunktwitch_twilight=self.webpackChunktwitch_twilight||[]).push([[61362],{327649:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetBitsButton_Bits"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isLoggedIn"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withChannel"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bitsOffers"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"skip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isLoggedIn"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"bitsOffer"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isLoggedIn"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idSHA1"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsOffers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"bitsOffer"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bitsUserSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"bitsUserSettings"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bitsUserState"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withChannel"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cheer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]},r={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}function o(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,t)})),e.definitions&&e.definitions.forEach((function(e){o(e,t)}))}i.definitions=i.definitions.concat(a(n(696981).definitions)),i.definitions=i.definitions.concat(a(n(401788).definitions));var s={};i.definitions.forEach((function(e){if(e.name){var t=new Set;o(e,t),s[e.name.value]=t}})),e.exports=i},401788:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"bitsUserSettings"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BitsUserSettings"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"firstCheerTutorial"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasAbandoned"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasSkipped"},arguments:[],directives:[]}]}}]}}]}},328102:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SetBitsUserSettings"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetBitsUserSettingsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setBitsUserSettings"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsUserSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"bitsUserSettings"},directives:[]}]}}]}}]}}]}}]},r={};function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,t)})),e.definitions&&e.definitions.forEach((function(e){a(e,t)}))}i.definitions=i.definitions.concat(n(401788).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})));var o={};i.definitions.forEach((function(e){if(e.name){var t=new Set;a(e,t),o[e.name.value]=t}})),e.exports=i},816280:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SyncedSettingsSetEmoteAnimations"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetEmoteAnimationsEnabledInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setEmoteAnimationsEnabled"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEmoteAnimationsEnabled"},arguments:[],directives:[]}]}}]}}]};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t},906435:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SyncedSettingsEmoteAnimations"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatUISettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEmoteAnimationsEnabled"},arguments:[],directives:[]}]}}]}}]}}]};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t},616169:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TopNav_CurrentUser"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPresto"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"turboStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasActiveTurbo"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasUsedFreeTrial"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}]};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t},420517:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Prime_PrimeOfferList_PrimeOffers_Eligibility"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"dateOverride"}},type:{kind:"NamedType",name:{kind:"Name",value:"Time"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"countryCode"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"primeOffersWithEligibility"},arguments:[{kind:"Argument",name:{kind:"Name",value:"dateOverride"},value:{kind:"Variable",name:{kind:"Name",value:"dateOverride"}}},{kind:"Argument",name:{kind:"Name",value:"countryCode"},value:{kind:"Variable",name:{kind:"Name",value:"countryCode"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"catalogOfferID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gameTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"claimInstructions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deliveryMethod"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"priority"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"externalURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publisher"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"categories"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ctaType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ctaText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subtitleSubtext"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shortDescription"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"offerEligibility"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canClaim"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isClaimed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offerState"},arguments:[],directives:[]}]}}]}}]}}]};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t},605047:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Prime_PrimeOffers_PrimeOfferIds_Eligibility"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"dateOverride"}},type:{kind:"NamedType",name:{kind:"Name",value:"Time"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"countryCode"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"primeOffersWithoutEligibility"},arguments:[{kind:"Argument",name:{kind:"Name",value:"dateOverride"},value:{kind:"Variable",name:{kind:"Name",value:"dateOverride"}}},{kind:"Argument",name:{kind:"Name",value:"countryCode"},value:{kind:"Variable",name:{kind:"Name",value:"countryCode"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"catalogOfferID"},arguments:[],directives:[]}]}}]}}]};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t},982703:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Prime_PrimeOffers_CurrentUser"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPrime"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}]};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t},624084:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"placeOrder"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PlaceOrderInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"placeOrder"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orderInformation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}]};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t},349766:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Prime_Current_User"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPrime"},arguments:[],directives:[]}]}}]}}]};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t},156525:function(e){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useLiveGame"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Game"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UseLiveBroadcast"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastBroadcast"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"useLiveGame"},directives:[]}]}}]}}]}}]}}]};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t},954233:function(e,t,n){"use strict";n.d(t,{m:function(){return c}});var i=n(331635),r=n(474848),a=n(296540),o=n(341749),s=n(959385),l=n(927027);function c(e,t){return function(n){var c=function(a){function s(){var e=null!==a&&a.apply(this,arguments)||this;return e.hadImpression=!1,e.reportImpression=null,e.element=null,e.logger=o.vF.withCategory("with-impression-listener"),e.getVisibilityMetric=function(){var t,n=null===(t=e.props.getScrollContent())||void 0===t?void 0:t.getBoundingClientRect();return e.element&&n?(0,l.DW)(e.element,n):null},e.setRef=function(t){return e.element=t},e.registerImpressionCallback=function(t){e.reportImpression=t},e.unregisterImpressionCallback=function(){e.reportImpression=null},e}return(0,i.__extends)(s,a),s.prototype.componentDidMount=function(){t&&void 0!==t.percentage&&void 0!==t.pixels?this.logger.warn("<".concat(e," /> should only be initialized with percentage or pixel thresholds, not both")):this.unregister=this.props.registerReceiver(this)},s.prototype.componentDidUpdate=function(e){this.props.impressionKey&&e.impressionKey!==this.props.impressionKey&&(this.hadImpression=!1,this.props.requestVisibilityCheck(this))},s.prototype.componentWillUnmount=function(){var e;null===(e=this.unregister)||void 0===e||e.call(this)},s.prototype.render=function(){var e={impressionListener:{registerImpressionCallback:this.registerImpressionCallback,unregisterImpressionCallback:this.unregisterImpressionCallback,getVisibilityMetric:this.getVisibilityMetric}},a=t&&t.impressionWrapperClassName,o=a?{className:a}:{};return(0,r.jsx)("div",(0,i.__assign)({ref:this.setRef},o,{children:(0,r.jsx)(n,(0,i.__assign)({},this.props,e))}))},s.prototype.checkVisible=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,i.__generator)(this,(function(i){return this.hadImpression||(n=(0,l.zN)(this.element,e,null==t?void 0:t.percentage,null==t?void 0:t.pixels))&&(r=this.isScrolled(),this.hadImpression=n,this.reportImpression&&this.reportImpression(r)),[2]}))}))},s.prototype.isScrolled=function(){var e=this.props.getScrollContent();return!(!e||0===e.scrollTop)},s}(a.Component);return(0,s.UJ)((function(e){return{registerReceiver:e.registerReceiver,getScrollContent:e.getScrollContent,requestVisibilityCheck:e.requestVisibilityCheck}}))(c)}}},309759:function(e,t,n){"use strict";n.d(t,{n:function(){return o}});var i=n(331635),r=n(474848),a=(n(296540),n(611407));function o(e){return function(t){return function(n){return(0,a.C)(e(n)),(0,r.jsx)(t,(0,i.__assign)({},n))}}}},198640:function(e,t,n){"use strict";n.d(t,{U:function(){return s}});var i=n(331635),r=n(474848),a=n(296540),o=n(145748);function s(e){return function(t){return function(n){for(var s=e.slice(),l=a.useRef({}),c=a.useRef({}),u=a.useRef([]),d=function(e){var t,r,a=s[e],d=!!a.skip&&function(e,t){return"boolean"==typeof e?e:e(t)}(a.skip,n),p=d?"":function(e,t){return"function"==typeof e?e(t):e}(a.topic,n),f=(0,o.D)(p,{skip:d,skipMessage:"function"==typeof a.skipMessage?function(e){return!!a.skipMessage&&a.skipMessage(e,n)}:void 0,jitterMSMax:a.jitterMSMax}),m=f[0],h=f[1],g=a.mapMessageTypesToProps[m&&m.type||""]||a.mapMessageTypesToProps["*"];if(g&&(u.current[e]=g),m)l.current=(0,i.__assign)((0,i.__assign)({},l.current),((t={})[g]=m,t));else if(u.current[e]){var v=(0,i.__assign)({},l.current);delete v[u.current[e]],l.current=v}h&&p&&(c.current=(0,i.__assign)((0,i.__assign)({},c.current),((r={})[p]=h,r)))},p=0;p<s.length;p++)d(p);var f={pubsub:{messages:l.current,status:c.current}};return(0,r.jsx)(t,(0,i.__assign)({},n,f))}}}},312524:function(e,t,n){"use strict";n.d(t,{E:function(){return r},d:function(){return d}});var i,r,a=n(331635),o=n(391997),s=n(891975),l=n(296540);!function(e){e.Default="default",e.XS="xs",e.SM="sm",e.MD="md",e.LG="lg",e.XL="xl",e.XXL="xxl"}(r||(r={}));var c=((i={})[r.Default]="0px",i[r.XS]=o["break-xs"],i[r.SM]=o["break-sm"],i[r.MD]=o["break-md"],i[r.LG]=o["break-lg"],i[r.XL]=o["break-xl"],i[r.XXL]=o["break-xxl"],i.all=o,i),u=[r.XXL,r.XL,r.LG,r.MD,r.SM,r.XS,r.Default];function d(e){var t=l.useState(),n=t[0],i=t[1];return(0,s.S)((function(){var t=(e||u).map((function(e){var t=function(t){i((function(n){var i;return(0,a.__assign)((0,a.__assign)({},n||{}),((i={})[e]=t.matches,i))}))},r=window.matchMedia("(min-width: ".concat(c[e],")"));return r.addListener(t),n&&void 0!==n[e]||i((function(t){var n;return(0,a.__assign)((0,a.__assign)({},t||{}),((n={})[e]=r.matches,n))})),function(){r.removeListener(t)}}));return function(){t.forEach((function(e){e()}))}})),l.useMemo((function(){if(!n)return null;for(var e=0,t=u;e<t.length;e++){var i=t[e];if(n[i])return i}return null}),[n])}},285511:function(e,t,n){"use strict";n.d(t,{B:function(){return v}});var i=n(331635),r=n(474848),a=n(959340),o=n(914421),s=n(312663),l=n(588702),c=n(70931),u=n(564368),d=n(296540),p=n(341749),f=n(195824),m=n(671503),h=n(917602),g={themed:!0,dark:{"1x":"".concat(f.Vp,"/bits-card/intro/dark/bits-new-user-dark.gif")},light:{"1x":"".concat(f.Vp,"/bits-card/intro/light/bits-new-user-light.gif")}},v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.trackLearnMore=function(e){t.props.trackBitsCardInteraction(m.N2.NewUserLearnMore)},t}return(0,i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.onUserSkip,n=e.onUserClickFirstTimePurchaseDiscount;return(0,r.jsxs)(a.P,{padding:{left:2,right:2,y:1},children:[(0,r.jsx)(a.P,{display:o.nl.Flex,justifyContent:o.A9.Center,children:(0,r.jsx)(s.N,{type:l.M2.H4,bold:!0,children:(0,p.hw)("Join the party with Bits","BitsIntro")})}),(0,r.jsx)(a.P,{margin:{top:1},children:(0,r.jsxs)(s.N,{type:l.M2.P,children:[(0,p.hw)("Celebrate big moments and support your favorite streamers with special animated emotes!","BitsIntro")," ",(0,r.jsx)(c.Cb,{linkTo:"/bits",targetBlank:!0,onClick:this.trackLearnMore,underline:!1,children:(0,p.hw)("Learn more","BitsIntro")})]})}),(0,r.jsx)(a.P,{margin:{top:2,bottom:2},display:o.nl.Flex,justifyContent:o.A9.Center,className:"bits-card-intro__gif-wrapper",children:(0,r.jsx)(h.F,{sources:g})}),(0,r.jsx)(u.$n,{onClick:n,fullWidth:!0,children:(0,p.hw)("First-Time Purchaser Discount","BitsIntro")}),t&&(0,r.jsx)(u.$n,{onClick:t,variant:u.VQ.Text,fullWidth:!0,children:(0,p.hw)("Skip","BitsIntro")})]})},t}(d.PureComponent)},972779:function(e,t,n){"use strict";n.d(t,{Kg:function(){return k},wF:function(){return i}});var i,r=n(474848),a=n(914421),o=n(216042),s=n(246942),l=n.n(s),c=n(296540),u=n(868238),d=n(341749),p=n(446663),f=n(195824),m=n(854803),h=n(306445),g=n(651342),v=n(917602);!function(e){e[e.Large=4]="Large",e[e.Medium=3]="Medium",e[e.Small=2]="Small",e[e.ExtraSmall=1.5]="ExtraSmall",e[e.ExtremelySmall=1]="ExtremelySmall"}(i||(i={}));var k=(0,u.Zz)((0,p.a3)((function(e){return{bitsConfig:e.bitsConfig}})))((function(e){var t,n=(0,c.useContext)(g.nK).value,s=e.bitsConfig&&e.bitsConfig.indexedActions[e.prefix.toLowerCase()];s||(s=(0,h.Vt)("Cheer"));var u=e.amount||f.fB,p=s.orderedTiers.find((function(e){return e.bits<=u}));p||(p=s.orderedTiers[0]);var k=null===(t=e.bitsConfig)||void 0===t?void 0:t.tiers.find((function(e){return e.bits<=u}));k||(k=e.bitsConfig.tiers[0]);var x=e.display===a.nl.Inline||e.display===a.nl.InlineFlex||e.display===a.nl.InlineBlock,b=null,y=l()("cheermote-for-amount__cheer-amount",{"cheermote-for-amount__display--table-cell":!x},{"cheermote-for-amount__cheer-amount--medium":e.size===i.Medium},{"cheermote-for-amount__cheer-amount--small":e.size===i.Small||e.size===i.ExtraSmall},{"cheermote-for-amount__cheer-amount--extremely-small":e.size===i.ExtremelySmall});if(void 0!==e.amount&&e.showAmount){var _=e.formattedNumber?(0,d.ZV)(e.amount):e.amount;b=(0,r.jsx)(o.S,{padding:e.size===i.Small?0:void 0,textAlign:e.size===i.Small?a.nO.Center:void 0,children:(0,r.jsx)("strong",{className:y,style:{color:k.color},children:_})})}var S=l()("cheermote-for-amount__cheer-image",{"cheermote-for-amount__display--table-cell":!x},{"cheermote-for-amount__cheer--inline":x},{"cheermote-for-amount__cheer-image--small":e.size===i.Small},{"cheermote-for-amount__cheer-image--extra-small":e.size===i.ExtraSmall},{"cheermote-for-amount__cheer-image--extremely-small":e.size===i.ExtremelySmall}),w=(0,r.jsx)(v.F,{className:S,sources:(0,m.Yj)(s,p.bits,e.size||i.Large,n&&e.animated)});return e.showImage||(w=null),(0,r.jsx)(o.S,{className:"cheermote-for-amount",alignItems:e.alignItems,display:e.display,children:(0,r.jsxs)("span",{children:[w,b]})})}))},380226:function(e,t,n){"use strict";var i;n.d(t,{r:function(){return i}}),function(e){e[e.Gray=1]="Gray",e[e.Purple=100]="Purple",e[e.Green=1e3]="Green",e[e.Blue=5e3]="Blue",e[e.Red=1e4]="Red",e[e.Yellow=1e5]="Yellow"}(i||(i={}))},195824:function(e,t,n){"use strict";n.d(t,{A_:function(){return c},By:function(){return d},C4:function(){return _},D_:function(){return b},Fh:function(){return s},Hk:function(){return S},IU:function(){return u},J_:function(){return h},Jl:function(){return m},Nx:function(){return f},Vp:function(){return o},aN:function(){return k},fB:function(){return g},jW:function(){return l},jq:function(){return v},mj:function(){return y},rQ:function(){return x},sZ:function(){return a},yP:function(){return p}});var i,r=n(380226),a={ERROR_DISPLAY_TIMEOUT:5e3,GET_BALANCE_RATE_LIMIT:5e3,UNDO_PROMPT_DURATION:5e3},o="https://d3aqoihi2n8ty8.cloudfront.net",s="".concat(o,"/cheer"),l="".concat(o,"/actions"),c="".concat(l,"/PREFIX/BACKGROUND/ANIMATION/TIER/SCALE.EXTENSION"),u="bonus",d=1e5,p=25e4,f=500,m=1e3,h="cheer",g=r.r.Purple,v=((i={})[r.r.Gray]="#979797",i[r.r.Purple]="#9c3ee8",i[r.r.Green]="#1db2a5",i[r.r.Blue]="#0099fe",i[r.r.Red]="#f43021",i[r.r.Yellow]="#f3a71a",i),k="AnAnonymousCheerer",x="ananonymouscheerer",b="407665396",y="lapsed_bits_user",_="lapsed_bits_user",S="mpu_portals"},854803:function(e,t,n){"use strict";n.d(t,{Fm:function(){return s},Je:function(){return l},Yj:function(){return d},j7:function(){return u},o7:function(){return c}});var i=n(267924),r=n(195824),a=n(251184),o=/^((?:[A-Za-z0-9]+)(?:[A-Za-z]))([\d]+)$/;function s(e,t,n){void 0===n&&(n=!0);var i=[],r=e.split(/\s+/);return r.forEach((function(e,o){var s=l(e,t,n);if(s)i.push(s);else{var c=i.length&&i[i.length-1],u="";if(o<r.length-1&&(u=" "),c&&c.type===a.X.Text)c.content+=e+u;else{var d="";o&&(d=" "),i.push({type:a.X.Text,content:d+e+u})}}})),i}function l(e,t,n){void 0===n&&(n=!0);var r=e.match(o);if(!r)return null;var s=r[1].toLowerCase(),l=Number(r[2]),c=t.indexedActions[s];if(c&&(c.type!==i.x2$.DISPLAY_ONLY||n)){var u=c.orderedTiers.find((function(e){return e.bits<=l}));!u&&l&&(u=c.orderedTiers[0]);var p=t.tiers.find((function(e){return e.bits===(null==u?void 0:u.bits)}));if(u)return{type:a.X.Emote,content:{images:d(c,u.bits),alt:c.prefix,cheerAmount:l,cheerColor:null==p?void 0:p.color}}}return null}function c(e,t){var n,i,a=(n=t,i=new Map,n.orderedActions.forEach((function(e){e.campaign&&i.set(e.prefix,e.campaign)})),i),o=new Map;e.forEach((function(e,t){if(e.alt&&a.has(e.alt))if(o.has(e.alt)){(n=o.get(e.alt))&&(n.total+=e.cheerAmount||0,n.lastAppearance=t)}else{var n={total:e.cheerAmount||0,lastAppearance:t,campaign:a.get(e.alt)};o.set(e.alt,n)}}));var s=1;return o.forEach((function(n){var i=0;n.campaign.thresholds.forEach((function(e){n.total>=e.minimumBits&&(i=e.matchedPercent)}));var a=Math.trunc(n.total*i);if(a>0){var o=l(r.IU+a,t,!0);o&&e.splice(n.lastAppearance+s++,0,o.content)}})),e}function u(e,t){return s(e,t,!0).reduce((function(e,t){return t.type===a.X.Emote&&e.push(t.content),e}),[]).some((function(e){var n=t.orderedActions.find((function(t){return!!e.alt&&e.alt===t.prefix}));return!!n&&n.type===i.x2$.DISPLAY_ONLY}))}function d(e,t,n,i){var r,a;void 0===i&&(i=!0);var o=i?"animated":"static";return n?{themed:!0,dark:(r={},r["".concat(n,"x")]=e.getImage("dark",o,t,n),r),light:(a={},a["".concat(n,"x")]=e.getImage("light",o,t,n),a)}:{themed:!0,dark:{"1x":e.getImage("dark",o,t,1),"1.5x":e.getImage("dark",o,t,1.5),"2x":e.getImage("dark",o,t,2),"3x":e.getImage("dark",o,t,3),"4x":e.getImage("dark",o,t,4)},light:{"1x":e.getImage("light",o,t,1),"1.5x":e.getImage("light",o,t,1.5),"2x":e.getImage("light",o,t,2),"3x":e.getImage("light",o,t,3),"4x":e.getImage("light",o,t,4)}}}},306445:function(e,t,n){"use strict";n.d(t,{Vt:function(){return m},mr:function(){return u},vs:function(){return d}});var i,r=n(267924),a=n(380226),o=n(195824),s=n(198365),l={Cheer:r.x2$.FIRST_PARTY,Kappa:r.x2$.FIRST_PARTY,Kreygasm:r.x2$.FIRST_PARTY,Muxy:r.x2$.THIRD_PARTY,Showlove:r.x2$.FIRST_PARTY,Streamlabs:r.x2$.THIRD_PARTY,SwiftRage:r.x2$.FIRST_PARTY,Uni:r.x2$.FIRST_PARTY,VoHiYo:r.x2$.FIRST_PARTY},c=[a.r.Red,a.r.Blue,a.r.Green,a.r.Purple,a.r.Gray],u={indexedActions:{},orderedActions:[],tiers:[],getImage:p};function d(){if(!i){var e=f("Cheer",r.x2$.DEFAULT);i={indexedActions:{cheer:e},orderedActions:[e],tiers:c.map((function(e){return{bits:e,color:o.jq[e]}})),getImage:p}}return i}function p(e,t,n,i,r){var a="animated"===n?"gif":"png";return(0,s.LZ)(o.A_,{prefix:e,background:t,animation:n,tier:i,scale:r,extension:a})}function f(e,t){var n=c.map((function(t){return{__typename:"CheermoteTier",bits:t,canShowInBitsCard:!0,id:"".concat(e,";").concat(t)}}));return{__typename:"Cheermote",campaign:null,id:e,prefix:e,type:t,tiers:n,orderedTiers:n,getImage:p.bind(void 0,e)}}function m(e){return f(e,l[e])}},110414:function(e,t,n){"use strict";n.d(t,{Y:function(){return a},b:function(){return r}});var i=n(267924),r=function(e,t){return!(!t||!t.firstCheerTutorial||t.firstCheerTutorial.hasSkipped||e!==i.vks.NEW_USER)},a=function(e,t){return!(!t||!t.firstCheerTutorial||t.firstCheerTutorial.hasAbandoned||t.firstCheerTutorial.hasSkipped||e!==i.vks.NEW_USER)}},800962:function(e,t,n){"use strict";n.d(t,{Fu:function(){return l},N5:function(){return c},OO:function(){return s},OZ:function(){return o},WK:function(){return a}});var i=n(337930),r=n(341749),a="https://static-cdn.jtvnw.net/subs-image-assets/valentines-day-2023-bits-themedpin-bg.png",o=function(){return(0,i.fX)("project_pixie_one")},s=function(){return"treatment"===r.x2.experiments.__hardcodedStaleExperiment("project_pixie_two","control")},l=function(){var e=new Image(25,25);return e.src="https://static-cdn.jtvnw.net/subs-image-assets/subtember2024-cheer-intro-bits-matching-subbie-asset.png",[e]},c=function(){var e=new Image(20,20);return e.src="https://static-cdn.jtvnw.net/subs-image-assets/valentines-day-2024-bits-heart.png",[e]}},198365:function(e,t,n){"use strict";n.d(t,{LZ:function(){return o},Vg:function(){return a},in:function(){return s}});var i=n(331635),r=n(579025);function a(e,t){var n={};function a(t,i,r,a,s){if(t=t.toLowerCase(),!n[t])return"";var l=n[t].template,c=e.types.find((function(e){return e.animation===r}));return c?o(l,{prefix:t,background:i,animation:r,tier:a,scale:s,extension:c.extension}):""}for(var s=e.order.reduce((function(e,t,n){return e[t]=n,e}),{}),l=new r.r((function(e,t){var n=s[e.type]-s[t.type];return 0!==n?n:e.tierBreakerOrder-t.tierBreakerOrder})),c=0,u=0,d=t;u<d.length;u++)for(var p=d[u],f=0,m=p.nodes;f<m.length;f++){var h=m[f],g=(0,i.__assign)((0,i.__assign)({},h),{orderedTiers:h.tiers.slice().sort((function(e,t){return t.bits-e.bits})),template:p.templateURL,getImage:a.bind(void 0,h.prefix),tierBreakerOrder:c});n[h.prefix.toLowerCase()]=g,l.push(g),c++}return{indexedActions:n,orderedActions:l.top(l.size()),tiers:e.colors.slice().sort((function(e,t){return t.bits-e.bits})),getImage:a}}function o(e,t){return e.replace("PREFIX",t.prefix.toLowerCase()).replace("BACKGROUND",t.background).replace("ANIMATION",t.animation).replace("TIER",t.tier.toString()).replace("SCALE",t.scale.toString()).replace("EXTENSION",t.extension)}function s(e,t){return{id:"".concat(t,"-").concat(e.entry_key),score:e.score,rank:e.rank,user:{__typename:"User",id:e.entry_key,login:"",displayName:""},__typename:"UserLeaderboardItem"}}},651342:function(e,t,n){"use strict";n.d(t,{Ov:function(){return _},lv:function(){return C},nK:function(){return w},se:function(){return T}});var i=n(331635),r=n(474848),a=n(973421),o=n.n(a),s=n(296540),l=n(415044),c=n(868238),u=n(341749),d=n(928778),p=n(309759),f=n(982821),m=n(503472),h=n(456450),g=n(131883),v=n(397568),k=n(816280),x=n.n(k),b=n(906435),y=n.n(b),_="emoteAnimationsEnabled",S=(0,v.q)("EmoteAnimationsSettingContext",{setValue:function(){return null},value:!0}),w=S.context,C=S.withContext,P=function(e){function t(t){var n=e.call(this,t)||this;return n.setValue=function(e){if(n.setState({localOverride:e}),u.IG.set(_,e),n.props.isLoggedIn){var t=(0,i.__assign)((0,i.__assign)({},(0,m.AR)({isEmoteAnimationsEnabled:e})),{optimisticResponse:{setEmoteAnimationsEnabled:{__typename:"SetEmoteAnimationsEnabledPayload",isEmoteAnimationsEnabled:e}},update:function(t){var n;try{n=t.readQuery({query:y()})}catch(e){return}if(n&&n.currentUser&&n.currentUser.chatUISettings){var i=o()(n,(function(e){return e.currentUser.chatUISettings.isEmoteAnimationsEnabled}),(function(){return e}));t.writeQuery({query:y(),data:i})}}});n.props.setEmoteAnimations(t)}},n.state={},n}return(0,i.__extends)(t,e),t.prototype.render=function(){return(0,r.jsx)(w.Provider,{value:{setValue:this.setValue,value:this.value},children:this.props.children})},t.prototype.componentDidUpdate=function(e){var t,n,i;if(this.hasData(this.props)&&!this.hasData(e)){var r=null===(i=null===(n=null===(t=this.props.data)||void 0===t?void 0:t.currentUser)||void 0===n?void 0:n.chatUISettings)||void 0===i?void 0:i.isEmoteAnimationsEnabled;null!=r?u.IG.set(_,r):this.setValue(this.value)}},t.prototype.hasData=function(e){return e.data&&!e.data.error&&!e.data.loading&&e.data.currentUser&&e.data.currentUser.chatUISettings},Object.defineProperty(t.prototype,"value",{get:function(){var e,t,n;if(void 0!==this.state.localOverride)return this.state.localOverride;var i=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.currentUser)||void 0===t?void 0:t.chatUISettings)||void 0===n?void 0:n.isEmoteAnimationsEnabled;return null!=i?i:u.IG.get(_,!0)},enumerable:!1,configurable:!0}),t}(s.Component);var T=(0,c.Zz)((0,l.Ng)((function(e){return{isLoggedIn:(0,g.M3)(e)}})),(0,d._v)(y(),{skip:function(e){return!e.isLoggedIn}}),(0,p.n)((function(e){var t,n;return{query:y(),topic:(0,h.ew)((null===(n=null===(t=e.data)||void 0===t?void 0:t.currentUser)||void 0===n?void 0:n.id)||""),skip:!e.data||e.data.loading||!e.isLoggedIn,skipMessage:function(e){return e.type!==f.PD.UserPreferencesEmoteAnimations},type:f.PD.UserPreferencesEmoteAnimations,mutator:function(e,t){return t=o()(t,(function(e){return e.currentUser.chatUISettings.isEmoteAnimationsEnabled}),(function(){return e.new_value}))}}})),(0,d._v)(x(),{name:"setEmoteAnimations"}))(P)},917602:function(e,t,n){"use strict";n.d(t,{F:function(){return u}});var i=n(331635),r=n(474848),a=n(296540),o=n(415044),s=n(963423),l=n(691177),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=(e.defaultRes,e.sources),n=(e.darkModeEnabled,(0,i.__rest)(e,["defaultRes","sources","darkModeEnabled"])),a=this.props.darkModeEnabled?t.dark:t.light,o=Object.keys(a);delete n.dispatch;var s=(0,i.__assign)((0,i.__assign)({},n),{src:a[this.props.defaultRes||o[0]],srcSet:o.map((function(e){return"".concat(a[e]," ").concat(e)})).join(",")});return(0,r.jsx)("img",(0,i.__assign)({},s,{onLoad:this.props.onLoad}))},t}(a.Component);var u=(0,o.Ng)((function(e){return{darkModeEnabled:(0,l.iR)(e)===s.S.Dark}}))(c)},251184:function(e,t,n){"use strict";var i;n.d(t,{X:function(){return i}}),function(e){e[e.Text=0]="Text",e[e.ModeratedText=1]="ModeratedText",e[e.FlaggedSegment=2]="FlaggedSegment",e[e.CurrentUserHighlight=3]="CurrentUserHighlight",e[e.Mention=4]="Mention",e[e.Link=5]="Link",e[e.Emote=6]="Emote",e[e.ClipLink=7]="ClipLink",e[e.VideoLink=8]="VideoLink"}(i||(i={}))},971686:function(e,t,n){"use strict";n.d(t,{D:function(){return a}});var i=n(345029),r=n(211027);function a(e){return(e===r.nk.ChannelSub||e===r.nk.ChannelSubCustom||e===r.nk.ChannelSubStandardGift||e===r.nk.ChannelSubCommunityGift||e===r.nk.Turbo||e===r.nk.BitsBundle)&&(0,i.H7)()}},718482:function(e,t,n){"use strict";n.d(t,{H2:function(){return o},Ht:function(){return u},Jv:function(){return g},Kw:function(){return d},RN:function(){return c},Rq:function(){return f},SX:function(){return m},cd:function(){return v},jY:function(){return s},sX:function(){return l}});var i=n(341749),r=n(369624),a="SUB_CHECKOUT",o="".concat(a,"__PRODUCT"),s="".concat(a,"__RECIPIENT"),l="".concat(a,"__MYSTERY_GIFT_COUNT"),c="".concat(a,"__GIFTING_ANONYMOUSLY"),u="".concat(a,"__IS_ONE_TIME_PURCHASE"),d="".concat(a,"__MULTIMONTH_GIFT_MONTHS"),p="".concat(a,"__GIFT_THEME"),f="".concat(a,"__OFFER_ERROR_CODE"),m="".concat(a,"__ORDER_FAILURE_REASON"),h=[o,s,l,c,u,d,p,f,m];function g(){h.forEach((function(e){return i.me.remove(e)}))}function v(e){return function(){return(0,r.iD)(e,{onClose:g})}}},505851:function(e,t,n){"use strict";var i;n.d(t,{U:function(){return i}}),function(e){e.ChannelSubscribeButton="channel_subscribe_button_click",e.Direct="direct_url_link",e.EmotePicker="emote_picker_click",e.EmotePickerPopularEmotes="emote_picker_popular_emotes",e.Extension="extension_click",e.SubscriptionsManagement="subscriptions_management",e.TurboSubscribeButton="turbo_subscribe_button_click",e.PartnerPlusUpSellNudgeSubscribeButton="partner_plus_upsell_nudge_subscribe_button_click",e.ViewerCard="viewer_card_click",e.SubscriberStreamUpsellClick="subscriber_stream_upsell_click",e.GetBitsMenu="get_bits_menu",e.CheerFrictionReduction="cheer_friction_reduction",e.ModView="mod_view",e.ChannelLeaderboard="channel_leaderboard",e.CommunityGiftClick="community_gift_click",e.SingleGiftClick="single_gift_click",e.RocketBoostHighlight="rocket_boost_highlight",e.OneClickGiftButtonClick="one_click_gift_button_click",e.OneClickSubsButtonClick="one_click_subs_button_click",e.OneClickBitsButtonClick="one_click_bits_button_click",e.GiftChatCommand="gift_chat_command",e.GetTurboButton="get_turbo_button",e.HomePageImpactNoticeBanner="home_page_impact_notice_banner",e.ChannelPageImpactNoticeBanner="channel_page_impact_notice_banner",e.Upsell="upsell"}(i||(i={}))},364539:function(e,t,n){"use strict";n.d(t,{$_:function(){return l},BE:function(){return s},RM:function(){return c},VG:function(){return i},i8:function(){return r}});var i,r,a=n(341749),o=n(433086);function s(e){a.x2.tracking.__track_SSRMigrationFixme("item_click",{section:e.section,item_subsection:e.item_subsection,category:e.category,item_page:e.item_page})}function l(e){a.x2.tracking.__track_SSRMigrationFixme("item_display",{section:e.section,item_subsection:e.item_subsection,category:e.category,item_page:e.item_page})}function c(e){return(0,o.W)(o.y.PlayLuna,{campaign_name:e})}!function(e){e.GameDirectory="presto_game_directory"}(i||(i={})),function(e){e.Launch="launch"}(r||(r={}))},80182:function(e,t,n){"use strict";n.d(t,{M:function(){return _}});var i=n(331635),r=n(474848),a=n(472571),o=n(959340),s=n(564368),l=n(679863),c=n(424131),u=n(14668),d=n(903689),p=n(368972),f=n(246942),m=n.n(f),h=n(706411),g=n.n(h),v=n(296540),k=n(341749),x=n(407310),b=n(704076),y="".concat("Alt","+").concat("P"),_=function(e){var t=e.hideKeyboardShortcut,n=(0,a.p)(),d=n.anchorProps,p=n.dialogProps,f=n.close,h=(0,b.bB)().targets,_=(0,v.useRef)(null),w=Object.values(h.global),C=Object.values(h.page),P=x.j.os.isMacOS();return(0,v.useEffect)((function(){var e=y.toLowerCase();return g().bind(e,(function(e){var t;e.preventDefault();var n,i=_.current;i&&(null!==(t=(n=i)?n.querySelector('button:not([disabled]), a[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"]):not([disabled]), details:not([disabled]), summary:not(:disabled)'):null)&&void 0!==t?t:i).focus()})),function(){g().unbind(e)}}),[]),(0,r.jsxs)(o.P,{ref:_,display:"flex",alignItems:"center",className:m()({"skip-to-dropdown":!0,"is-dialog-visible":p.show}),children:[(0,r.jsxs)(s.$n,(0,i.__assign)({variant:s.VQ.Secondary,dropdown:!0,"aria-keyshortcuts":"alt+p",title:t?(0,k.hw)("Menu for skipping to content","SkipToDropdown"):(0,k.hw)("Menu for skipping to content ({keyboardShortcut})",{keyboardShortcut:y},"SkipToDropdown")},d,{children:[(0,k.hw)("Skip to...","SkipToDropdown"),!t&&(0,r.jsxs)(o.P,{display:"flex",margin:{left:.5},style:{gap:"calc(var(--space-05) / 2)"},children:[(0,r.jsx)(l.M,{children:P?"⌥":"Alt"}),(0,r.jsx)(l.M,{children:"P"})]})]})),(0,r.jsxs)(c.n,(0,i.__assign)({},p,{disableReturnFocusAfterClose:!0,onRequestClose:function(e){var t;void 0!==e.key&&"Escape"!==e.key||(null===(t=p.anchorRef)||void 0===t||t.focus(),f())},"aria-label":(0,k.hw)("Skip to content on the page","SkipToDropdown"),children:[w.length>0&&(0,r.jsx)(S,{title:(0,k.hw)("Global","SkipToDropdown"),targets:w,onItemClick:p.onRequestClose}),w.length>0&&C.length>0&&(0,r.jsx)(u.m,{}),C.length>0&&(0,r.jsx)(S,{title:(0,k.hw)("Page Content","SkipToDropdown"),targets:C,onItemClick:p.onRequestClose})]}))]})},S=function(e){var t=e.targets,n=e.title,i=e.onItemClick;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.x,{children:n}),t.map((function(e){var t="#".concat(e.id);return(0,r.jsx)(p.i,{figure:{icon:e.icon},linkTo:t,renderLink:function(e){var n=e.className,a=e.children;return(0,r.jsx)("a",{className:n,href:t,onClick:i,children:a})},children:e.label},e.id)}))]})}},704076:function(e,t,n){"use strict";n.d(t,{$7:function(){return m},bB:function(){return f}});var i=n(474848),r=n(296540),a=n(397568),o=n(331635),s=n(532968),l=function(e,t){var n,i;switch(t.type){case"add":return(0,o.__assign)((0,o.__assign)({},e),((n={})[t.section]=function(e,t){var n;return(0,o.__assign)((0,o.__assign)({},e),((n={})[t.id]=t,n))}(e[t.section],t.target),n));case"remove":return(0,o.__assign)((0,o.__assign)({},e),((i={})[t.section]=function(e,t){if(!e[t])return e;var n=(0,o.__assign)({},e);return delete n[t],n}(e[t.section],t.id),i));default:(0,s.x)(t)}},c=function(){},u={targets:{global:{},page:{}},actions:{addTarget:c,removeTarget:c}},d=(0,a.q)("SkipToContext",u),p=d.context,f=(d.withContext,function(){return(0,r.useContext)(p)}),m=function(e){var t=e.children,n=function(e){var t=(0,r.useReducer)(l,e),n=t[0],i=t[1],a=(0,r.useMemo)((function(){return function(e){return{addTarget:function(t,n){e({type:"add",section:t,target:n})},removeTarget:function(t,n){e({type:"remove",section:t,id:n})}}}(i)}),[]);return{targets:n,actions:a}}(u.targets);return(0,i.jsx)(p.Provider,{value:n,children:t})}},79923:function(e,t,n){"use strict";n.d(t,{TF:function(){return i},R8:function(){return I},Rs:function(){return S},Bn:function(){return w}});var i,r=n(331635),a=n(474848),o=n(368972),s=n(959340),l=n(914421),c=n(79004),u=n(723874),d=n(324602),p=n(903689),f=n(14668),m=n(341749),h=n(718059),g=n(959385),v=n(345029),k=n(784351),x=n(253762),b=n(433086),y=["US","AT","CA","DE","ES","FR","IT","PL","NL","UK"];!function(e){e.TryPrimeLink="top-nav__try-prime-link",e.GiftCardLink="top-nav__go-giftcard-link",e.GoTurboLink="top-nav__go-turbo-link",e.DownloadLink="top-download-link",e.DropdownStoreLink="top-nav__dropdown-store-link",e.DropdownDesktopLink="top-nav__dropdown-desktop-link",e.PrivacyCenter="top-nav__privacy-center-link",e.SafetyCenter="top-nav__safety-center-link",e.LunaLink="top-nav__luna-link"}(i||(i={}));var _="https://www.twitch.tv/p/giftcard",S=function(){return(0,m.hw)("Safety Center","TopNav")},w=function(){return(0,m.hw)("Turbo","TopNav")},C=function(e){if(!e)return _;var t="twitch_gift_card_url_"+(null==e?void 0:e.toLowerCase()),n=m.Zn.get(t,_);return n||_},P=function(e){e||(0,b.W)(b.y.ThreeDot)()},T=function(e,t){return e.label.localeCompare(t.label,m.x2.intl.getLanguageCode()||void 0,{sensitivity:"base"})},N=function(e){var t=e.options;return(0,a.jsx)(a.Fragment,{children:t.sort(T).map((function(e){return(0,a.jsx)(o.i,(0,r.__assign)({},e),e.label)}))})},I=function(e){var t,n,o=e.countryCode,_=e.languageCode,S=(0,m.hw)("More Options","TopNav"),T=[{targetBlank:!0,linkTo:"https://www.twitch.tv/p/about","data-a-target":"about-link",label:(0,m.hw)("About","TopNav"),onClick:(0,b.W)(b.y.About)},{targetBlank:!0,linkTo:"http://twitchadvertising.tv/","data-a-target":"advertisers-link",label:(0,m.hw)("Advertisers","TopNav"),onClick:(0,b.W)(b.y.Advertisers)},{targetBlank:!0,linkTo:"https://blog.twitch.tv/","data-a-target":"blog-link",label:(0,m.hw)("Blog","TopNav"),onClick:(0,b.W)(b.y.Blog)},{targetBlank:!0,linkTo:"https://dev.twitch.tv/","data-a-target":"developers-link",label:(0,m.hw)("Developers","TopNav"),onClick:(0,b.W)(b.y.Developers)},{targetBlank:!0,linkTo:"/downloads","data-a-target":"desktop-link-dropdown","data-test-selector":i.DropdownDesktopLink,label:(0,m.hw)("Download Apps","TopNav"),onClick:(0,b.W)(b.y.GetDesktop2)},{targetBlank:!0,linkTo:"https://www.igdb.com/?utm_source=Twitch&utm_campaign=igdb_three_dot_menu_link","data-a-target":"idgb-link",label:(0,m.hw)("IGDB","TopNav"),onClick:(0,b.W)(b.y.IGDB)},{targetBlank:!0,linkTo:"https://www.twitch.tv/jobs","data-a-target":"jobs-link",label:(0,m.hw)("Jobs","TopNav"),onClick:(0,b.W)(b.y.Jobs)},{targetBlank:!0,linkTo:"https://www.twitch.tv/p/partners","data-a-target":"partners-link",label:(0,m.hw)("Partners","TopNav"),onClick:(0,b.W)(b.y.Partners)},{targetBlank:!0,linkTo:"https://www.twitch.tv/p/press","data-a-target":"press-link",label:(0,m.hw)("Press","TopNav"),onClick:(0,b.W)(b.y.Press)}],I={targetBlank:!0,linkTo:"https://www.twitch.tv/store","data-a-target":"store-link-dropdown","data-test-selector":i.DropdownStoreLink,label:(0,m.hw)("Loot Cave - Merch Store","TopNav"),onClick:(0,b.W)(b.y.Store2)},D=(n=null!==(t=(0,v.If)())&&void 0!==t?t:"",y.includes(n)?{targetBlank:!0,linkTo:"https://luna.amazon.com/?g=web&ref=tmp_twitch_topnav","data-a-target":"luna-link-dropdown","data-test-selector":i.LunaLink,label:"Luna",onClick:(0,b.W)(b.y.Luna)}:null),j={targetBlank:!0,linkTo:"https://link.twitch.tv/twitchartists",label:(0,m.hw)("Music on Twitch","TopNav"),onClick:(0,b.W)(b.y.TwitchMusic)},B={targetBlank:!0,linkTo:"https://www.twitch.tv/turbo","data-a-target":"turbo-link",label:w(),onClick:(0,b.W)(b.y.Turbo)};(m.Zn.get("enable_localized_twitch_music_link",!1)||"en"===_)&&T.push(j);var O={targetBlank:!0,linkTo:"https://www.twitch.tv/p/giftcard",label:(0,m.hw)("Gift Card","TopNav"),onClick:(0,b.W)(b.y.GiftCard)};return(0,a.jsx)(s.P,{display:l.nl.Flex,fullHeight:!0,alignItems:l.k2.Center,padding:{x:1},children:(0,a.jsxs)(k.U,{onToggle:P,tooltipLabel:S,hideBalloonOnInsideClick:!0,dialogLayerProps:{options:{placement:"bottom-start"}},children:[(0,a.jsx)(c.a2,{icon:u.G,"aria-label":S,"data-a-target":"ellipsis-button"}),(0,a.jsx)(d.fK,{size:d.$V.Small,"data-a-target":"overflow-menu",children:(0,a.jsx)(g.Vq,{className:"top-nav__overflow-menu",children:(0,a.jsxs)(s.P,{padding:1,children:[(0,a.jsx)(p.x,{children:(0,m.hw)("General","TopNav")}),(0,a.jsx)(N,{options:(0,r.__spreadArray)((0,r.__spreadArray)([],T,!0),[I,D,(0,r.__assign)((0,r.__assign)({},O),{linkTo:C(o)}),B],!1).filter((function(e){return!!e}))}),(0,a.jsx)(f.m,{}),(0,a.jsx)(p.x,{children:(0,m.hw)("Help & Legal","TopNav")}),(0,a.jsx)(N,{options:(0,x.IT)()}),(0,a.jsx)(h.K,{name:"privacy_center",children:(0,a.jsx)(N,{options:(0,x.hj)()})}),(0,a.jsx)(N,{options:(0,x.RT)()})]})})})]})})}},566617:function(e,t,n){"use strict";n.d(t,{k3:function(){return oi},b$:function(){return ki}});var i,r=n(331635),a=n(474848),o=n(959340),s=n(914421),l=n(216042),c=n(70931),u=n(580357),d=n(296540),p=n(415044),f=n(868238),m=n(341749),h=n(191132),g=n(407827),v=n(928778),k=n(273701),x=n(430926),b=n(337930),y=n(105146),_=n(99137),S=n(131883),w=n(472571),C=n(79004),P=n(486489),T=n(897120),N=n(564368),I=n(552400),D=n(632606),j=n(324602),B=n(891975),O=n(561551),U=n(267924),E=n(961420),L=n(691177),F=n(671503),R=n(557013),A=n(211027),M=n(82984),W=n(503472),G=n(935835),V=n(496228),H=n(285511),z=n(331947),X=n(446663),Z=n(312663),q=n(588702),$=n(656910),Y=n(959385),K=n(886692),Q=n(22201),J=n(717286);!function(e){e.BitsBalanceHeader="bits-balance-header-selector",e.BitsBalanceLoggedOutHeader="bits-balance-logged-out-header-selector"}(i||(i={}));var ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t.prototype.render=function(){return this.props.isLoggedIn?(0,a.jsx)(o.P,{"data-test-selector":i.BitsBalanceHeader,textAlign:s.nO.Center,fullWidth:!0,children:(0,a.jsx)(Z.N,{type:q.M2.Span,children:(0,m.hw)("You have {bitsBalance}",{bitsBalance:(0,a.jsx)(J.k,{withImage:!0,withText:!0,count:this.props.bitsBalance?this.props.bitsBalance:0,bitsConfig:this.props.bitsConfig})},"Bits--GetBitsButton")})}):(0,a.jsx)(o.P,{"data-test-selector":i.BitsBalanceLoggedOutHeader,textAlign:s.nO.Center,fullWidth:!0,children:(0,a.jsx)(Z.N,{type:q.M2.Span,children:(0,m.hw)("{bitsGem} Log in to see your Bits balance",{bitsGem:(0,a.jsx)(J.k,{count:100,withImage:!0,bitsConfig:this.props.bitsConfig})},"Bits--GetBitsButton")})})},t}(d.Component);var te=(0,f.Zz)((0,X.a3)((function(e){return{bitsConfig:e.bitsConfig}})))(ee),ne=n(298830),ie=n(411547),re=n(530919),ae=n(432927),oe=n(195824),se=n(917602),le={themed:!0,dark:{"1x":"".concat(oe.Fh,"/dark/animated/1/cheertutorial.gif")},light:{"1x":"".concat(oe.Fh,"/light/animated/1/cheertutorial.gif")}},ce=function(){return(0,a.jsxs)(o.P,{display:s.nl.Flex,padding:{top:5,bottom:3},flexGrow:1,flexDirection:s.bo.Column,justifyContent:s.A9.Center,alignItems:s.k2.Center,children:[(0,a.jsxs)(Z.N,{type:q.M2.H4,bold:!0,children:[(0,a.jsx)(se.F,{className:"cheermote-help__tutorial-image",sources:le}),(0,m.hw)("How to Cheer","Bits--CheermoteHelp")]}),(0,a.jsx)(o.P,{padding:{x:3},children:(0,a.jsx)(Z.N,{children:(0,m.hw)('Type "cheer" + the number of Bits you want to Cheer.',"Bits--CheermoteHelp")})})]})},ue=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onBuyClick=function(){t.openBitsCheckout({forcePopup:!1})},t.onBuyClickExtraSmall=function(){t.openBitsCheckout({forcePopup:!0})},t.openBitsCheckout=function(e){var n=e.forcePopup,i=(0,re.tf)({trackBitsCardInteraction:t.props.trackBitsCardInteraction,channelID:t.props.channelID,trackingID:t.props.trackingID,checkoutID:t.props.checkoutID,purchaseUrl:t.props.promo.url,bitsAmount:t.props.promo.bits,location:F.Yl.GetBitsButtonTopNav,offerID:t.props.promo.id,checkoutFormDispatch:t.props.showCheckoutFormModal,forcePopup:n,bitsBalance:t.props.bitsBalance});i&&t.props.onPromoBuyClose(i)},t}return(0,r.__extends)(t,e),t.prototype.render=function(){var e=(0,a.jsxs)(o.P,{"data-test-selector":"first-time-user-intro",children:[(0,a.jsx)(o.P,{padding:{x:5,y:2},textAlign:s.nO.Center,children:(0,a.jsx)(Z.N,{type:q.M2.H4,bold:!0,children:(0,m.hw)("Cheer Bits for your Favorite Streamer!","Bits--FirstTimeUserPrompt")})}),(0,a.jsx)(o.P,{padding:{x:2,bottom:1},children:(0,a.jsxs)(Z.N,{type:q.M2.Span,color:s.Q1.Alt,children:[(0,m.hw)("Bits are fun, animated emotes. Cheering Bits celebrates moments you love with the community right in chat and similar to subscribing, helps support Partners and Affiliates.","Bits--FirstTimeUserPrompt"),(0,a.jsx)(l.S,{margin:{left:.5},children:(0,a.jsx)(c.Cb,{onClick:this.props.toggleShowTutorial,underline:!1,children:(0,m.hw)("How do I cheer?","Bits--FirstTimeUserPrompt")})})]})}),(0,a.jsxs)(o.P,{padding:{bottom:2},textAlign:s.nO.Center,children:[(0,a.jsx)(l.S,{margin:{bottom:1},children:(0,a.jsx)(Z.N,{type:q.M2.H6,bold:!0,className:"bits-first-time-user-prompt__promo-header",children:(0,m.hw)("First Time Purchaser Discount Pack!","Bits--FirstTimeUserPrompt")})}),(0,a.jsx)(o.P,{display:s.nl.Hide,breakpointExtraSmall:{display:s.nl.Block},children:(0,a.jsx)(N.$n,{onClick:this.onBuyClick,"data-a-target":"bits-purchase-button-".concat(this.props.promo.bits),children:this.promoButtonText})}),(0,a.jsx)(o.P,{display:s.nl.Block,breakpointExtraSmall:{display:s.nl.Hide},children:(0,a.jsx)(N.$n,{onClick:this.onBuyClickExtraSmall,"data-a-target":"bits-purchase-button-xs-".concat(this.props.promo.bits),children:this.promoButtonText})})]})]});return this.props.isShowingTutorial?(0,a.jsxs)(o.P,{className:"bits-first-time-user-prompt",fullWidth:!0,children:[(0,a.jsx)(o.P,{className:"bits-first-time-user-prompt__tutorial-back-button",children:(0,a.jsxs)(N.$n,{onClick:this.props.toggleShowTutorial,variant:N.VQ.Text,children:[(0,a.jsx)(ne.A,{size:8})," ",(0,m.hw)("Back","Bits--FirstTimeUserPrompt")]})}),(0,a.jsx)(o.P,{textAlign:s.nO.Center,padding:{x:2,bottom:2,top:5},fullHeight:!0,children:(0,a.jsx)(ie.X5,{type:ie.as.SlideInLeft,duration:ie.J6.Long,enabled:!0,children:(0,a.jsx)(ce,{})})})]}):this.props.animateFirstTimeUserIntro?(0,a.jsx)(l.S,{className:"bits-first-time-user-prompt",children:(0,a.jsx)(ie.X5,{type:ie.as.SlideInRight,duration:ie.J6.Long,enabled:this.props.animateFirstTimeUserIntro,children:e})}):(0,a.jsx)(o.P,{className:"bits-first-time-user-prompt",children:e})},Object.defineProperty(t.prototype,"promoButtonText",{get:function(){return(0,m.hw)("{price} For {amount} Bits",{price:(0,m.ZV)(this.props.promo.amount,{style:"currency",currency:this.props.promo.currencyCode}),amount:(0,m.ZV)(this.props.promo.bits)},"Bits--FirstTimeUserPrompt")},enumerable:!1,configurable:!0}),t}(d.Component);var de,pe=(0,p.Ng)(null,(function(e){return(0,f.zH)({showCheckoutFormModal:ae.X},e)}))(ue),fe=n(973474),me=n(36935),he=n(963423),ge=function(){var e=(0,p.d4)(L.iR)===he.S.Dark;return(0,a.jsxs)(o.P,{borderBottom:!0,padding:2,children:[(0,a.jsxs)(o.P,{alignItems:s.k2.Center,textAlign:s.nO.Center,display:s.nl.Flex,flexDirection:s.bo.Row,margin:{bottom:1},children:[(0,a.jsx)(o.P,{margin:{right:1},children:(0,a.jsx)(fe.L,{className:"bits-explanation__gif",src:e?"https://d3aqoihi2n8ty8.cloudfront.net/actions/party/dark/animated/100/4.gif":"https://d3aqoihi2n8ty8.cloudfront.net/actions/party/light/animated/100/4.gif",alt:(0,m.hw)("Bits Icon","BitsExplanation")})}),(0,a.jsx)(me.hE,{size:me.uM.Small,children:(0,m.hw)("Use Bits to support streamers","BitsExplanation")})]}),(0,m.hw)("When you use Bits in a channel, Twitch rewards the streamer and you create an exciting moment.","BitsExplanation")]})};!function(e){e.Wrapper="wrapper-test-selector",e.NewUserWrapper="user-user-wrapper-test-selector"}(de||(de={}));var ve,ke,xe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t.prototype.render=function(){return this.props.shouldShowNewUserCheerUX?this.renderNewUserCheerBuyBalloon():this.renderDefaultBuyBalloon()},t.prototype.renderFirstTimeUserPrompt=function(){if(this.props.bitsOffers){var e=this.props.bitsOffers.find((function(e){return(0,re.xb)(e)}));if(e&&e.type===U.l0Y.BUNDLE&&"BitsBundleOffer"===e.__typename)return(0,a.jsx)(pe,{promo:e,animateFirstTimeUserIntro:this.props.animateFirstTimeUserIntro,isShowingTutorial:this.props.isShowingTutorial,toggleShowTutorial:this.props.toggleShowTutorial,trackBitsCardInteraction:this.props.trackBitsCardInteraction,channelID:this.props.channelID||"",trackingID:this.props.trackingID,checkoutID:this.props.checkoutID,onPromoBuyClose:this.props.onPromoBuyClose,bitsBalance:this.props.bitsBalance})}return null},t.prototype.renderDefaultBuyBalloon=function(){return(0,a.jsxs)(o.P,{"data-test-selector":de.Wrapper,overflow:s.nE.Hidden,children:[this.renderDropDownMenuHeader(),(0,a.jsx)(Y.Vq,{className:"get-bits-button-content",children:(0,a.jsxs)(o.P,{children:[(0,a.jsx)(ge,{}),this.renderFirstTimeUserPrompt(),(0,a.jsx)(K.b,{channelLogin:this.props.channelLogin||"",closeAllBits:this.props.onClose,onClose:this.props.onClose,trackBitsCardInteraction:this.props.trackBitsCardInteraction,location:F.Yl.GetBitsButtonTopNav,size:Q.Z.Fullsize,hidePromos:!0,trackingID:this.props.trackingID,checkoutID:this.props.checkoutID})]})})]})},t.prototype.renderNewUserCheerBuyBalloon=function(){return(0,a.jsxs)(o.P,{"data-test-selector":de.NewUserWrapper,overflow:s.nE.Hidden,children:[this.renderDropDownMenuHeader(),(0,a.jsx)(Y.Vq,{className:"get-bits-button-content",children:(0,a.jsxs)(o.P,{className:"get-bits-button-content__body",children:[(0,a.jsx)(ge,{}),(0,a.jsx)(K.b,{channelLogin:this.props.channelLogin||"",closeAllBits:this.props.onClose,onClose:this.props.onClose,trackBitsCardInteraction:this.props.trackBitsCardInteraction,location:F.Yl.GetBitsButtonTopNav,hidePromos:!0,size:Q.Z.Smallnoscroll,shouldShowNewUserCheerUX:!0,trackingID:this.props.trackingID,checkoutID:this.props.checkoutID})]})})]})},t.prototype.renderDropDownMenuHeader=function(){var e=(0,a.jsxs)(o.P,{display:s.nl.Flex,flexDirection:s.bo.Column,justifyContent:s.A9.Center,alignItems:s.k2.Center,children:[(0,a.jsx)(o.P,{children:(0,a.jsx)(Z.N,{type:q.M2.H5,color:s.Q1.Alt,bold:!0,children:(0,m.hw)("Purchase Bits","BitsMainBalloonContent")})}),(0,a.jsx)(te,{bitsBalance:this.props.bitsBalance,isLoggedIn:this.props.isLoggedIn})]}),t=(0,m.hw)("Close Menu","BitsMainBalloonContent");return(0,a.jsx)($.D,{popoverId:"GetBitsPopover",title:e,buttonRightPrimary:{"aria-label":t,onClick:this.props.closeBalloon}})},t}(d.PureComponent),be=n(328102),ye=n.n(be),_e=n(110414),Se=n(327649),we=n.n(Se),Ce=(0,h.U)({name:"GetBitsButton",category:_.u.Monetization}),Pe=Ce.Available,Te=Ce.Unavailable,Ne=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onUserClickFirstTimePurchaseDiscount=function(){return(0,r.__awaiter)(t,void 0,void 0,(function(){var e,t,n,i;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:if(e=this.props.bitsUserSettings,t=e&&e.firstCheerTutorial||{hasAbandoned:!1,hasSkipped:!1},!this.props.data.currentUser)return m.vF.errorAndReport(new Error("Failed to set bits user settings"),"Failed to set bits user settings."),[2];n={setBitsUserSettings:{__typename:"SetBitsUserSettingsPayload",currentUser:{__typename:"User",id:this.props.data.currentUser.id,bitsUserSettings:{__typename:"BitsUserSettings",firstCheerTutorial:(0,r.__assign)((0,r.__assign)({__typename:"FirstCheerTutorial"},t),{hasAbandoned:!0})}}}},this.trackBitsCardInteraction(F.N2.NewUserFirstTimePurchaseDiscountClick),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.props.setBitsUserSettings((0,W.De)({abandonedFirstCheerTutorial:!0},n))];case 2:return a.sent(),[3,4];case 3:return i=a.sent(),(0,V.nF)()?m.vF.warn("Failed to set bits user settings."):m.vF.errorAndReport(i,"Failed to set bits user settings."),[3,4];case 4:return[2]}}))}))},t.trackBitsCardInteraction=function(e,n){var i={actionName:e,trackingId:t.props.trackingId,checkoutId:t.props.checkoutId,sessionId:t.props.sessionId,actionType:n&&n.actionType,emoteType:n&&n.emoteType,emoteLevel:n&&n.emoteLevel,location:F.Yl.GetBitsButtonTopNav,displayedBalance:t.props.bitsBalance||0};(0,F.UK)(i)},t.onClose=function(){(0,_e.Y)(t.props.bitsUserState,t.props.bitsUserSettings)&&t.trackBitsCardInteraction(F.N2.NewUserCloseTutorial),t.props.closeBalloon&&t.props.closeBalloon()},t.onPromoBuyClose=function(e){(0,G.qh)(e,(function(){t.props.data&&t.props.data.refetch()}))},t}return(0,r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e=null;return this.props.error?e=(0,a.jsx)(Te,{}):this.props.loading||(e=(0,a.jsx)(Pe,{})),this.props.loading?(0,a.jsx)(o.P,{padding:{y:5},"data-a-target":"get-bits-button-content-loading",children:(0,a.jsx)(z.d,{})}):(0,_e.Y)(this.props.bitsUserState,this.props.bitsUserSettings)?(0,a.jsxs)(o.P,{padding:2,children:[e,(0,a.jsx)(H.B,{trackBitsCardInteraction:this.trackBitsCardInteraction,onUserClickFirstTimePurchaseDiscount:this.onUserClickFirstTimePurchaseDiscount})]}):(0,a.jsxs)(X.nW,{channelLogin:this.props.channelLogin,children:[e,(0,a.jsx)(xe,{bitsOffers:this.props.bitsOffers,bitsBalance:this.props.bitsBalance,isLoggedIn:this.props.isLoggedIn,isShowingTutorial:this.props.isShowingTutorial,animateFirstTimeUserIntro:this.props.animateFirstTimeUserIntro,channelID:this.props.channelID,trackingID:this.props.trackingId,checkoutID:this.props.checkoutId,channelLogin:this.props.channelLogin,toggleShowTutorial:this.props.toggleShowTutorial,onClose:this.onClose,trackBitsCardInteraction:this.trackBitsCardInteraction,onPromoBuyClose:this.onPromoBuyClose,shouldShowNewUserCheerUX:(0,_e.b)(this.props.bitsUserState,this.props.bitsUserSettings),closeBalloon:this.props.closeBalloon})]})},t}(d.Component),Ie=(0,f.Zz)((0,M.W)("GetBitsButtonContent"),(0,v._v)(ye(),{name:"setBitsUserSettings"}),(0,v._v)(we(),{props:function(e){var t,n,i,r,a,o;return e.data&&e.data.user&&e.data.user.cheer&&(n=e.data.user.id||void 0),e.data&&e.data.currentUser?(r=e.data.currentUser.bitsBalance||void 0,i=e.data.currentUser.bitsOffers&&e.data.currentUser.bitsOffers.reduce((function(e,t){return t&&e.push(t),e}),[])||void 0,a=e.data.currentUser.bitsUserSettings||void 0,o=e.data.currentUser.bitsUserState||void 0):e.data&&e.data.bitsOffers&&(i=e.data.bitsOffers),{loading:!(!e.data||!e.data.loading),bitsOffers:i,bitsBalance:r,channelID:n,bitsUserSettings:a,bitsUserState:o,data:e.data,error:null===(t=e.data)||void 0===t?void 0:t.error}},options:function(e){var t;return{variables:{login:null!==(t=e.channelLogin)&&void 0!==t?t:"",withChannel:!!e.channelLogin,isLoggedIn:e.isLoggedIn}}}}))(Ne),De=(0,f.Zz)((0,M.W)("GetBitsButton"),(0,R.eQ)((function(e){return(0,r.__assign)({},e)})))((function(e){var t=e.channelLogin,n=e.hasTurbo,i=e.sessionId,l=e.order,c=e.offerTPLR,u=e.latencyTracking,f=(0,d.useState)({trackingId:(0,y.aq)(),checkoutId:(0,y.aq)(),isShowingTutorial:!1,animateFirstTimeUserIntro:!1}),h=f[0],g=f[1],v=(0,w.p)(),k=v.dialogProps,x=v.anchorProps,b=(0,p.wA)(),_=(0,E.QN)(S.M3),R=(0,E.QN)(L.Hb);(0,B.S)((function(){return u.reportInteractive()}));var M=(0,d.useCallback)((function(){var e=(0,y.aq)(),t=(0,y.aq)();g((function(n){return(0,r.__assign)((0,r.__assign)({},n),{animateFirstTimeUserIntro:!1,trackingId:e,checkoutId:t})})),R&&(0,F.UK)({trackingId:e,checkoutId:t,sessionId:i,actionName:F.N2.BuyMain,location:F.Yl.GetBitsButtonTopNav,displayedBalance:0}),b(R?(0,O.Hw)():(0,O.R_)())}),[b,R,i]),W=(0,d.useCallback)((function(){b((0,O.Hw)())}),[b]),G="treatment"===m.x2.experiments.__hardcodedStaleExperiment("kr_jp_string_test","control")?(0,m.hw)("Get Bits","Bits--GetBitsButtonV2"):(0,m.hw)("Get Bits","Bits--GetBitsButton");return(0,a.jsxs)(o.P,{display:"flex",justifyContent:"center",children:[(0,a.jsx)(I.m,{label:G,children:function(e){var t,i=(t=null==l?void 0:l.state,Boolean(t&&!A.QA.includes(t)&&c===A.nk.BitsBundle&&t!==U.dFc.THREE_D_SECURE_CHALLENGE_REQUIRED)),u=(0,m.hw)("Purchasing...","Bits--GetBitsButton"),d=(0,a.jsx)(C.a2,(0,r.__assign)({},x,{onClick:M,icon:i?(0,a.jsx)(P.k,{}):(0,a.jsx)(T.S,{}),disabled:i,"aria-label":e,"data-a-target":"top-nav-get-bits-button"}));return(0,a.jsxs)(o.P,{children:[(0,a.jsx)(o.P,{display:s.nl.Flex,breakpointLarge:{display:s.nl.Hide},children:d}),(0,a.jsx)(o.P,{display:s.nl.Hide,breakpointLarge:{display:s.nl.Flex},children:n?(0,a.jsxs)(N.$n,(0,r.__assign)({},x,{onClick:M,disabled:i,variant:N.VQ.Secondary,"data-a-target":"top-nav-get-bits-button",icon:i?void 0:T.S,children:[i&&(0,a.jsx)(P.k,{}),(0,a.jsx)(o.P,{padding:{left:i?.5:0},children:i?u:e})]})):d})]})}(G)}),(0,a.jsx)(D.A,(0,r.__assign)({},k,{show:R,popoverId:"GetBitsPopover",onRequestClose:W,size:j.$V.Large,"aria-label":G,children:(0,a.jsx)(Ie,{isLoggedIn:_,channelLogin:t,toggleShowTutorial:function(){g((function(e){return(0,r.__assign)((0,r.__assign)({},e),{isShowingTutorial:!e.isShowingTutorial,animateFirstTimeUserIntro:!0})}))},isShowingTutorial:h.isShowingTutorial,animateFirstTimeUserIntro:h.animateFirstTimeUserIntro,closeBalloon:W,sessionId:i,trackingId:h.trackingId,checkoutId:h.checkoutId})}))]})})),je=n(52548),Be=n(714742),Oe=n(80182),Ue=n(732446),Ee=n(792486),Le=n(736585),Fe=n(731667),Re=n(246942),Ae=n.n(Re),Me=function(e){var t=e.activeIndicator,n=e.currentRef,i=(0,r.__rest)(e,["activeIndicator","currentRef"]),l=i.className,c=i.icon,u=i.label,d=i.linkTo,p=i.onClick,f=i.showLeftBorder,m=i.targetBlank,h=l||Ae()({"navigation-link":!0,active:!!t});return(0,a.jsxs)(a.Fragment,{children:[f&&(0,a.jsx)(o.P,{className:"navigation-link__left-border",margin:{top:1}}),(0,a.jsxs)(o.P,{display:s.nl.Flex,flexDirection:s.bo.Column,fullHeight:!0,padding:{x:1},breakpointExtraLarge:{padding:{x:2}},children:[(0,a.jsx)(o.P,{display:s.nl.Flex,alignSelf:s.gB.Center,fullHeight:!0,children:(0,a.jsx)(Ee.M,(0,r.__assign)({linkTo:d,onClick:p,targetBlank:m,"aria-label":u,className:h},i,{children:(0,a.jsxs)("div",{ref:n&&n,children:[(0,a.jsxs)(o.P,{flexDirection:s.bo.Column,display:s.nl.Hide,breakpointSmall:{display:s.nl.Flex},children:[(0,a.jsx)(o.P,{display:s.nl.Hide,breakpointExtraLarge:{display:s.nl.Flex},children:(0,a.jsx)(me.hE,{size:me.uM.Small,children:u})}),(0,a.jsx)(o.P,{display:s.nl.Flex,breakpointExtraLarge:{display:s.nl.Hide},children:(0,a.jsx)(me.hE,{size:me.uM.ExtraSmall,children:u})})]}),c&&(0,a.jsx)(o.P,{padding:{x:1},display:s.nl.Flex,"aria-label":u,breakpointSmall:{display:s.nl.Hide},children:(0,a.jsx)(Le.cv,{align:Le.HX.Center,direction:Le.n5.Bottom,label:u,children:(0,a.jsx)(Fe.t,{asset:c,height:20,width:20})})})]})}))}),(0,a.jsx)(o.P,{className:"navigation-link__indicator-container",children:t})]})]})},We=n(912800),Ge=n(364539),Ve=n(433086);!function(e){e[e.Following=1]="Following",e[e.Browse=2]="Browse",e[e.None=5]="None",e[e.Presto=8]="Presto"}(ve||(ve={})),function(e){e.BrowseLink="top-nav__browse-link",e.FollowingLink="top-nav__following-link",e.PrestoLink="top-nav__presto-link"}(ke||(ke={}));var He,ze={linkTo:{pathname:"/directory/following",state:{medium:"twitch_topnav",content:"directory_following"}},onClick:(0,Ve.W)(Ve.y.Following),link:ve.Following,"data-a-target":"following-link","data-test-selector":ke.FollowingLink,icon:We.t.FollowHollow},Xe={linkTo:{pathname:"/directory",state:{medium:"twitch_topnav",content:"directory_games"}},onClick:(0,Ve.W)(Ve.y.Browse),link:ve.Browse,"data-a-target":"browse-link","data-test-selector":ke.BrowseLink,icon:We.t.Browse},Ze={linkTo:"https://www.amazon.com/luna",link:ve.Presto,targetBlank:!0,onClick:(0,Ge.RM)(Ge.i8.Launch),className:"top-nav__external-link","data-a-target":"try-presto-link","data-test-selector":ke.PrestoLink},qe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={activeIndicatorTransform:""},t.containerRef=null,t.indicatorRef=null,t.linksRef=Array(Object.keys(ve).length).fill(null),t.getActiveLink=function(e){var t=ve.None;return e.startsWith("/directory")&&(t=ve.Browse,e.startsWith("/directory/following")&&(t=ve.Following)),t},t.computeStyles=function(){var e=t.linksRef[t.getActiveLink(t.props.location.pathname)],n=t.linksRef.find((function(e){return null!==e}));if(!(n&&e&&t.indicatorRef&&t.containerRef))return"";var i=t.indicatorRef.getBoundingClientRect(),r=i.left-t.containerRef.getBoundingClientRect().left+n.getBoundingClientRect().left,a="scaleX(".concat(i.width/e.clientWidth,")"),o="translateX(".concat(r-e.offsetLeft,"px)");return"".concat(o," ").concat(a)},t.animateSelection=function(e){t.setState({activeIndicatorTransform:e},(function(){t.ensureLayoutReflow(),t.setState({activeIndicatorTransform:""})}))},t.ensureLayoutReflow=function(){t.containerRef&&t.containerRef.scrollTop},t.setContainerRef=function(e){t.containerRef=e},t.setIndicatorRef=function(e){t.indicatorRef=e},t.setRef=function(e){return function(n){t.linksRef[e]=n}},t.getActiveIndicator=function(e){if(t.getActiveLink(t.props.location.pathname)===e)return(0,a.jsx)("div",{className:"navigation-link__active-indicator",style:{transform:t.state.activeIndicatorTransform},ref:t.setIndicatorRef})},t.getBrowseLink=function(){return(0,r.__assign)((0,r.__assign)({},Xe),{label:(0,m.hw)("Browse","TopNav")})},t.getFollowLink=function(){return t.props.user?(0,r.__assign)((0,r.__assign)({},ze),{label:(0,m.hw)("Following","TopNav")}):null},t.getPrestoLink=function(){return t.props.hasPresto?(0,r.__assign)((0,r.__assign)({},Ze),{label:(0,m.hw)("Discover Luna","TopNav")}):null},t}return(0,r.__extends)(t,e),t.prototype.render=function(){var e=this,t=[this.getFollowLink(),this.getBrowseLink(),this.getPrestoLink()].filter((function(e){return null!==e})).map((function(t){if(t){var n=t.link;return(0,a.jsx)(Me,(0,r.__assign)({activeIndicator:e.getActiveIndicator(n),currentRef:e.setRef(n)},t),n)}}));return(0,a.jsx)("div",{ref:this.setContainerRef,children:(0,a.jsx)(o.P,{display:s.nl.Flex,fullHeight:!0,justifyContent:s.A9.Between,flexDirection:s.bo.Row,children:t})})},t.prototype.getSnapshotBeforeUpdate=function(e){return this.getActiveLink(this.props.location.pathname)!==this.getActiveLink(e.location.pathname)?this.computeStyles():null},t.prototype.componentDidUpdate=function(e,t,n){n&&this.animateSelection(n)},t}(d.Component),$e=(0,Ue.y)(qe),Ye=n(79923),Ke=n(554372),Qe=n(303621),Je=n(746442),et=n(216378),tt=n(882439),nt=n(650839),it=n(731734),rt=n(784351);!function(e){e.PrimeTrackingButtonWrapper="test_selector_prime_tracking_button_wrapper"}(He||(He={}));var at,ot=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hoverTimer=0,t.onMouseEnter=function(e){t.clearTimeout(),t.hoverTimer=setTimeout((function(){t.props.onHover&&t.props.onHover(e)}),200)},t.onMouseLeave=function(){t.clearTimeout()},t.onClick=function(e){t.props.onClick&&t.props.onClick(e),t.clearTimeout()},t.clearTimeout=function(){t.hoverTimer&&(clearTimeout(t.hoverTimer),t.hoverTimer=0)},t}return(0,r.__extends)(t,e),t.prototype.componentWillUnmount=function(){this.clearTimeout()},t.prototype.render=function(){return(0,a.jsx)("div",{"data-test-selector":He.PrimeTrackingButtonWrapper,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onClick:this.onClick,children:this.props.children})},t}(d.Component),st=ot,lt=n(485694),ct=(0,M.W)("PrimeOfferHeader",{autoReportInteractive:!0})((function(e){var t=(0,m.hw)("Close Menu","PrimeOfferHeader"),n=(0,m.hw)("Prime Gaming Logo","PrimeOfferHeader"),i=(0,m.hw)("{offerCount, plural, one {{offerCount} New Item} other {{offerCount} New Items}}",{offerCount:e.numOfUnseenOffers},"PrimeOfferHeader"),r=(0,E.QN)(L.iR)===he.S.Dark?lt.ZU.White:lt.ZU.Black;return(0,a.jsx)(o.P,{className:"prime-popover-header",children:(0,a.jsx)($.D,{popoverId:"PrimeOfferPopover",buttonLeftPrimary:{"aria-label":n,icon:(0,a.jsx)(lt.oy,{color:r,width:112,height:30}),overlay:!0},title:e.numOfUnseenOffers>0?{title:i}:void 0,buttonRightPrimary:{"aria-label":t,onClick:e.closeCrownMenu}})})})),ut=n(627561),dt=n(907666),pt=n(305528),ft=n(727234),mt=n(705104),ht=n(198640),gt=n(982821),vt=n(345029),kt=n(456450),xt=n(146065),bt=n(957573),yt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t.prototype.render=function(){return(0,a.jsx)(N.$n,{"data-a-target":"prime-offers-loot-page-button",icon:xt.N,linkTo:(0,bt.xo)(m.$W.tryPrimeURI,{ref_:"CGTS"}),fullWidth:!0,targetBlank:!0,children:(0,m.hw)("Start Now","PrimeLootPageButton")})},t}(d.Component),_t=(0,M.W)("PrimeLootPageButton",{autoReportInteractive:!0})(yt),St=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t.prototype.render=function(){return this.props.linkToLootPage?(0,a.jsxs)(o.P,{className:"prime-empty","data-a-target":"prime-offers-empty",margin:2,children:[(0,a.jsx)(o.P,{textAlign:s.nO.Center,children:(0,a.jsx)(lt.oy,{width:330,height:150,color:lt.ZU.Purple})}),(0,a.jsx)(o.P,{padding:{bottom:1},textAlign:s.nO.Center,children:(0,a.jsx)(Z.N,{fontSize:s.Z4.Size5,children:(0,m.hw)("View all Prime Gaming offers, even those you've dismissed.","PrimeEmpty")})}),(0,a.jsx)(_t,{})]}):null},t}(d.Component),wt=(0,M.W)("PrimeEmpty",{autoReportInteractive:!0})(St),Ct=n(97774),Pt=n(953838),Tt=n(902418),Nt=n(75331),It=n.n(Nt),Dt=n(954233),jt=n(407310),Bt=n(783321),Ot=n(476748),Ut=n(763560),Et=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){(0,Ot.Rv)({offerID:t.props.offerID,externalURL:t.props.externalURL,hasPrime:!0,index:t.props.index,experimentData:t.props.experimentData},t.props.offerType,t.props.isFGWPOfferOnODP),t.props.claimCallback&&t.props.offerType!==Ut.p4.EXTERNAL_OFFER&&t.props.claimCallback(e)},t.onHover=function(){(0,Ot.tG)({offerID:t.props.offerID,externalURL:t.props.externalURL,hasPrime:!0,index:t.props.index,experimentData:t.props.experimentData},t.props.offerType)},t}return(0,r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},t.prototype.componentDidUpdate=function(){this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e=this.props.orientation||Ut.pG.Default,t=(0,Ut.RN)(e),n=(0,Ut.hT)("prime-claim-button",e);return(0,a.jsx)(o.P,{fullWidth:!0,className:n,display:t?s.nl.Block:s.nl.InlineBlock,children:this.renderClaimButton()})},t.prototype.renderClaimButton=function(){var e=this.props,t=e.externalURL,n=e.claiming,i=e.offerID,r=this.getButtonText();if(t&&this.props.offerType!==Ut.p4.DIRECT_ENTITLEMENT)return(0,a.jsx)(st,{onHover:this.onHover,children:(0,a.jsx)(N.$n,{fullWidth:!0,linkTo:t,targetBlank:!0,onClick:this.onClick,"data-a-target":"prime-claim-button",children:r})});if("treatment"===m.x2.experiments.__hardcodedStaleExperiment("fgwpClaimingOnPGHQ","control")&&this.props.offerType===Ut.p4.DIRECT_ENTITLEMENT)return(0,a.jsx)(st,{onHover:this.onHover,children:(0,a.jsx)(N.$n,{fullWidth:!0,linkTo:"https://gaming.amazon.com/loot?pagecontext=".concat(i),targetBlank:!0,onClick:this.onClick,"data-a-target":"prime-claim-button",children:r})});var l=(0,a.jsx)(st,{onHover:this.onHover,children:(0,a.jsx)(N.$n,{fullWidth:!0,state:n?N.w.Loading:N.w.Default,disabled:n,onClick:this.onClick,"data-a-target":"prime-claim-button",children:r})});return(0,a.jsx)(o.P,{position:s.yX.Relative,children:l})},t.prototype.getButtonText=function(){var e=(0,m.hw)("Claim Game","PrimeClaimButton");switch(this.props.offerType){case Ut.p4.EXTERNAL_OFFER:return this.props.isFGWPOfferOnODP?e:this.props.ctaText?this.props.ctaText:(0,m.hw)("Claim","PrimeClaimButton");case Ut.p4.DIRECT_ENTITLEMENT:return e;default:return(0,m.hw)("Learn More","PrimeClaimButton")}},t}(d.Component),Lt=(0,f.Zz)((0,M.W)("PrimeClaimButton"))(Et),Ft=n(522777),Rt=function(e){function t(t){var n=e.call(this,t)||this;return n.toggleShowDescription=function(){var e=!n.state.showDescription;(0,Ot.lS)(e,{offerID:n.props.offerID,externalURL:n.props.externalURL,hasPrime:n.props.hasPrime,index:n.props.index}),n.setState({showDescription:e})},n.onHover=function(){n.state.showDescription?(0,Ot.rk)({offerID:n.props.offerID,externalURL:n.props.externalURL,hasPrime:n.props.hasPrime,index:n.props.index}):(0,Ot.iV)({offerID:n.props.offerID,externalURL:n.props.externalURL,hasPrime:n.props.hasPrime,index:n.props.index})},n.renderVerticalDescriptionBlock=function(){return(0,a.jsx)(o.P,{className:"prime-claim-description__body",background:s.VS.Alt2,border:!0,position:s.yX.Relative,children:n.renderDescription()})},n.renderHorizontalDescriptionBlock=function(){return(0,a.jsx)(o.P,{className:"prime-claim-description__body",background:s.VS.Base,border:!0,position:s.yX.Absolute,attachTop:!0,attachLeft:!0,attachRight:!0,margin:{right:1,top:.5},overflow:s.nE.Scroll,children:n.renderDescription()})},n.renderDescription=function(){return(0,a.jsx)(o.P,{"data-a-target":"prime-claim-description-body",margin:{bottom:2},padding:1,children:(0,a.jsx)(Ft.F,{children:(0,a.jsx)(It(),{source:n.props.description||""})})})},n.state={showDescription:!1},n}return(0,r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e=this.props.orientation||Ut.pG.Default,t=(0,Ut.hT)("prime-claim-description",e),n={"data-a-target":"prime-claim-description-button",fullWidth:!0,variant:N.VQ.Secondary};return n=this.props.externalURL&&this.props.offerType===Ut.p4.DIRECT_ENTITLEMENT?(0,r.__assign)((0,r.__assign)({},n),{linkTo:this.props.externalURL,onClick:(0,Ot.C_)({offerID:this.props.offerID,externalURL:this.props.externalURL,hasPrime:this.props.hasPrime,index:this.props.index}),targetBlank:!0}):(0,r.__assign)((0,r.__assign)({},n),{onClick:this.toggleShowDescription}),(0,a.jsxs)(o.P,{fullWidth:!0,className:t,margin:{top:1},children:[(0,a.jsx)(st,{onHover:this.onHover,children:(0,a.jsx)(N.$n,(0,r.__assign)({},n,{children:this.getDescriptionButtonText()}))}),this.getDescriptionBlock(e)]})},t.prototype.getDescriptionButtonText=function(){return this.state.showDescription?(0,m.hw)("Close Info","PrimeClaimDescription"):(0,m.hw)("More Info","PrimeClaimDescription")},t.prototype.getDescriptionBlock=function(e){var t=null,n=(0,Ut.RN)(e);return this.state.showDescription&&(t=n?this.renderVerticalDescriptionBlock():this.renderHorizontalDescriptionBlock()),t},t}(d.Component),At=(0,M.W)("PrimeClaimDescription",{autoReportInteractive:!0})(Rt),Mt=(0,M.W)("PrimeUpsellButton",{autoReportInteractive:!0})((function(e){var t=(0,Ot.yB)(),n=function(){var n;if(e.externalURL)return(0,bt.xo)(e.externalURL,{twitchReferral:t,ref_:e.externalReftag||bt.pb,yTwchPos:"".concat(null!==(n=e.index)&&void 0!==n?n:bt.pJ)});var i=e.externalReftag||bt.pb,r=window.location.pathname.substring(1);return(0,bt.r3)(i,r,t,"upsell")};return(0,a.jsx)(o.P,{className:"prime-upsell-button",margin:{top:2,bottom:1},children:(0,a.jsx)(st,{onHover:function(){(0,Ot.jc)({offerID:e.offerID,externalURL:n(),hasPrime:!1,index:e.index,experimentData:e.experimentData})},children:(0,a.jsx)(N.$n,{fullWidth:!0,linkTo:n(),targetBlank:!0,onClick:function(){e.trackingProperties&&(0,Ot.tZ)((0,r.__assign)((0,r.__assign)({},e.trackingProperties),{tp_refcode:t,tp_campaign:Ot.HE.TrackingAlpha,experimentData:e.experimentData})),(0,Ot.dC)({offerID:e.offerID,externalURL:n(),hasPrime:!1,index:e.index,experimentData:e.experimentData})},children:(0,m.hw)("Start Your Free Trial","PrimeUpsellButton")})})})})),Wt=n(349766),Gt=n.n(Wt),Vt=(0,M.W)("PrimeInstructions")((function(e){var t=(0,Bt.IT)(Gt()),n=t.data,i=t.loading;d.useEffect((function(){i||e.latencyTracking.reportInteractive()}),[i,e.latencyTracking]);var r=e.orientation||Ut.pG.Default,s=(0,Ut.hT)("prime-claim",r),l=function(){var t=e.offerType===Ut.p4.EXTERNAL_OFFER&&e.isFGWP;return(0,a.jsx)(Lt,{offerType:e.offerType,offerID:e.catalogOfferID?e.catalogOfferID:e.offerID,claimCallback:e.claimCallback,claiming:e.claiming,orientation:e.orientation,externalURL:(0,bt.rW)(e.externalURL,e.index),index:e.index,isFGWPOfferOnODP:t,experimentData:e.experimentData,ctaText:e.ctaText})};return(0,a.jsxs)(o.P,{className:s,margin:{bottom:1},children:[function(){var t;return(null===(t=null==n?void 0:n.currentUser)||void 0===t?void 0:t.hasPrime)?l():(0,a.jsx)(Mt,{trackingProperties:e.trackingProperties,externalReftag:e.externalReftag,externalURL:(0,bt.rW)(e.externalURL,e.index),offerID:e.offerID,index:e.index,orientation:e.orientation,experimentData:e.experimentData})}(),function(){var t;return e.offerType===Ut.p4.EXTERNAL_OFFER||"treatment"===m.x2.experiments.__hardcodedStaleExperiment("fgwpClaimingOnPGHQ","control")&&e.offerType===Ut.p4.DIRECT_ENTITLEMENT?null:(0,a.jsx)(At,{description:e.offerDescription,offerID:e.offerID,externalURL:(0,bt.rW)(e.externalURL,e.index),index:e.index,orientation:e.orientation,hasPrime:(null===(t=null==n?void 0:n.currentUser)||void 0===t?void 0:t.hasPrime)||!1,offerType:null==e?void 0:e.offerType})}()]})})),Ht=n(734594),zt=function(e){function t(t){var n=e.call(this,t)||this;return n.getClaimInstructions=function(){return(0,a.jsx)(Ft.F,{children:(0,a.jsx)(It(),{source:n.props.claimInstructions||"",escapeHtml:!0,renderers:{Link:function(e){return(0,a.jsx)(c.Cb,{linkTo:e.href,targetBlank:!0,rel:"nofollow noopener noreferrer",underline:!1,children:e.children})}}})})},n.renderVerticalLayout=function(){return(0,a.jsx)(o.P,{className:"prime-claim-instructions prime-claim-instructions--vertical","data-a-target":"prime-claim-instructions--vertical",background:s.VS.Alt2,border:!0,padding:1,fontSize:s.Z4.Size6,children:n.getClaimInstructions()})},n.renderHorizontalLayout=function(){return(0,a.jsxs)(o.P,{fullWidth:!0,className:"prime-claim-instructions prime-claim-instructions--horizontal",margin:{top:1},children:[(0,a.jsx)(o.P,{fullWidth:!0,justifyContent:s.A9.Center,textAlign:s.nO.Center,children:(0,a.jsx)(c.Cb,{onClick:n.toggleShowDescription,underline:!1,children:n.getDescriptionButtonText()})}),n.state.showDescription&&(0,a.jsx)(o.P,{className:"prime-claim-instructions__body","data-a-target":"prime-claim-instructions--horizontal",border:!0,position:s.yX.Absolute,padding:1,background:s.VS.Alt,overflow:s.nE.Scroll,attachTop:!0,attachLeft:!0,attachRight:!0,margin:{right:1,top:.5},children:n.getClaimInstructions()})]})},n.toggleShowDescription=function(){n.setState({showDescription:!n.state.showDescription})},n.getDescriptionButtonText=function(){return n.state.showDescription?(0,m.hw)("Close Info","PrimeClaimInstruction"):(0,m.hw)("Click here for Claim Instructions","PrimeClaimInsctuction")},n.state={showDescription:!1},n}return(0,r.__extends)(t,e),t.prototype.render=function(){var e=this.props.orientation||Ut.pG.Default;return(0,Ut.RN)(e)?this.renderVerticalLayout():this.renderHorizontalLayout()},t}(d.Component),Xt=(0,M.W)("PrimeClaimInstructions",{autoReportInteractive:!0})(zt),Zt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getPrimeClaimInstructions=function(){return(0,a.jsx)(Xt,{claimInstructions:t.props.claimInstructions||"",orientation:t.props.orientation})},t}return(0,r.__extends)(t,e),t.prototype.render=function(){var e=this.props.orientation||Ut.pG.Default,t=(0,Ut.hT)("prime-redeem",e);return(0,a.jsxs)(o.P,{className:t,children:[this.getConfirmation(e),this.getPrimeClaimInstructions()]})},t.prototype.getConfirmation=function(e){var t=(0,Ut.RN)(e),n=t?1:0,i=t?3:0;return(0,a.jsx)(o.P,{display:s.nl.Flex,justifyContent:s.A9.Center,margin:{bottom:n},padding:{y:n},className:"prime-redeem__confirmation",borderRadius:Ct.Z.Medium,children:(0,a.jsx)(Z.N,{type:t?q.M2.H4:q.M2.H6,align:s.G4.Middle,color:s.Q1.Overlay,children:(0,a.jsxs)(o.P,{display:s.nl.InlineFlex,flexGrow:1,flexWrap:s.I4.NoWrap,alignItems:s.k2.Center,"data-test-target":"prime-redeem-check","data-a-target":"prime-redeem-check",padding:{right:i},children:[(0,a.jsx)(o.P,{margin:{right:1},display:s.nl.InlineFlex,flexGrow:1,flexWrap:s.I4.NoWrap,padding:{y:.5},alignItems:s.k2.Center,children:(0,a.jsx)(Ht.i,{size:20})}),(0,m.hw)("Claimed","PrimeRedeem")]})})})},t}(d.Component),qt=(0,f.Zz)((0,M.W)("PrimeRedeem",{autoReportInteractive:!0}))(Zt),$t=n(624084),Yt=n.n($t);!function(e){e.PrimeOfferGameTitle="prime-offer-game-title",e.PrimeOfferTitle="prime-offer-title",e.PrimeOffer="prime-offer",e.PrimeOfferDismissButton="prime-offer-dismiss-button",e.PrimeOfferVideo="prime-offer__video"}(at||(at={}));var Kt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={claimed:!1,claiming:!1,error:void 0,status:void 0},t.videoPlaying=!1,t.renderVerticalLayout=function(e){var n=t.props.isLast||!1,i=e.content,r=i&&i.categories&&i.categories[0]||"",l=i&&(i.subtitleSubtext||i.publisher)||"",c=Qt(e.catalogOfferID);return(0,a.jsxs)(o.P,{className:"prime-offer",position:s.yX.Relative,children:[t.renderDismissButton(),(0,a.jsxs)(o.P,{"data-a-target":c,"data-test-selector":c,className:"prime-offer__data prime-offer--vertical",alignItems:s.k2.Center,display:s.nl.Block,borderBottom:!n,textAlign:s.nO.Left,position:s.yX.Relative,padding:{x:3,y:1},children:[t.renderHeader(e),t.renderOfferImageOrVideo(e.imageURL),(0,a.jsxs)(o.P,{margin:{bottom:2},children:[(0,a.jsx)(o.P,{className:"prime-offer__description",padding:{top:.5},children:(0,a.jsx)(Z.N,{type:q.M2.P,children:r})}),(0,a.jsx)(o.P,{className:"prime-offer__publisher",children:(0,a.jsx)(Z.N,{type:q.M2.P,color:s.Q1.Alt2,fontSize:s.Z4.Size7,children:l})})]}),t.renderRedeemUpsellOrClaimSection(e)]})]})},t.renderHorizontalLayout=function(e){var n=e.content,i=n&&n.categories&&n.categories[0]||"",r=n&&n.publisher||"";return(0,a.jsxs)(o.P,{"data-a-target":at.PrimeOffer,"data-test-selector":at.PrimeOffer,className:"prime-offer prime-offer--horizontal",alignItems:s.k2.Center,display:s.nl.InlineBlock,textAlign:s.nO.Left,position:s.yX.Relative,padding:{right:1,y:.5},fullWidth:!0,children:[(0,a.jsxs)(o.P,{className:"prime-offer__content",margin:{bottom:2},children:[(0,a.jsxs)(o.P,{className:"prime-offer__content__text",background:s.VS.Base,children:[(0,a.jsx)(o.P,{className:"prime-offer__publisher",children:(0,a.jsx)(Z.N,{type:q.M2.P,color:s.Q1.OverlayAlt,fontSize:s.Z4.Size7,transform:q.Ms.Uppercase,children:r})}),(0,a.jsxs)(o.P,{className:"prime-offer__title",alignItems:s.k2.Start,padding:{y:.5},children:[t.renderGameTitle(e),t.renderTitle(e)]}),(0,a.jsx)(o.P,{className:"prime-offer__description",children:(0,a.jsx)(Z.N,{type:q.M2.P,color:s.Q1.Alt2,children:i})})]}),t.renderOfferImageOrVideo(e.imageURL)]}),t.renderRedeemUpsellOrClaimSection(e)]})},t.renderOfferImageOrVideo=function(e){var n,i=function(e){if(!e)return e;var t=e.split(".");return t[t.length-1]}(e);return n="mp4"===i?(0,a.jsx)("video",{preload:"auto",ref:function(e){t.offerVideo=e||void 0},loop:!0,playsInline:!0,muted:!0,autoPlay:!0,controls:jt.j.platform.isMobile()||jt.j.platform.isTablet(),"data-a-target":at.PrimeOfferVideo,"data-test-selector":at.PrimeOfferVideo,poster:"https://m.media-amazon.com/images/G/01/sm/Evergreen_Shared/crown_video_evergreen.jpg",children:(0,a.jsx)("source",{src:e,type:"video/mp4"})}):(0,a.jsx)("img",{src:e,alt:(0,m.hw)("Offer media asset","PrimeOffer")}),(0,a.jsx)(l.S,{borderRadius:Ct.Z.Medium,children:n})},t.renderRedeemUpsellOrClaimSection=function(e){var n,i,r=(null===(n=null==e?void 0:e.content)||void 0===n?void 0:n.externalURL)||"",o=(null===(i=e.content)||void 0===i?void 0:i.ctaText)||"";return e.deliveryMethod!==U.s53.EXTERNAL_OFFER&&(t.isCurrentOfferClaimed(e)||t.state.claimed)?(0,a.jsx)(qt,{claimInstructions:e.claimInstructions,orientation:t.props.orientation,toggleCrownMenu:t.props.toggleCrownMenu}):(0,a.jsx)(Vt,{trackingProperties:t.props.trackingProperties,offerID:e.id,catalogOfferID:e.catalogOfferID,isFGWP:e.tags.includes("FGWP"),offerDescription:e.description,offerType:e.deliveryMethod,externalReftag:t.props.externalReftag,externalURL:r,claimCallback:t.placeOrder,claiming:t.state.claiming,index:t.props.index,orientation:t.props.orientation,toggleCrownMenu:t.props.toggleCrownMenu,experimentData:t.props.experimentData,ctaText:o})},t.placeOrder=function(e){var n;if(e.nativeEvent.stopImmediatePropagation(),t.setState({claiming:!0}),(0,Ut.F6)(t.props.userData)){var i=t.props.offer.catalogOfferID,r=(0,W.AR)({offerID:i,idempotenceKey:(0,y.k3)(),attributionChannel:JSON.stringify({eventId:"crown:".concat(i),page:"home"}),dateOverride:null===(n=(0,Ut.jo)(Ut.F2.DateOverride))||void 0===n?void 0:n.toString()});t.props.placeOrder(r).then((function(e){var n,i,r,a=null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.placeOrder,o=null===(i=null==a?void 0:a.error)||void 0===i?void 0:i.code;if(o){var s=Ut.By[o];t.setState({claiming:!1,claimed:!1,error:s})}(null===(r=null==a?void 0:a.orderInformation)||void 0===r?void 0:r[0])&&t.setState({claiming:!1,claimed:!0,error:void 0})})).catch((function(){t.setState({claiming:!1,claimed:!1,error:Ut.By.UNKNOWN_ERROR})}))}},t.dismissOffer=function(){var e=t.props.offer,n=e.content,i=n&&n.externalURL||"";(0,Ot.e)({offerID:e.catalogOfferID,externalURL:i,hasPrime:!0,index:t.props.index,experimentData:t.props.experimentData}),t.props.dismissOffer(t.props.offer.catalogOfferID)},t.onDismissHover=function(){var e=t.props.offer,n=e.content,i=n&&n.externalURL||"";(0,Ot.Cv)({offerID:e.catalogOfferID,externalURL:i,hasPrime:!0,index:t.props.index,experimentData:t.props.experimentData})},t.trackImpression=function(){var e=null;t.props.offer.content&&(e=t.props.offer.content.externalURL),(0,Ot.KZ)({offerID:t.props.offer.catalogOfferID,externalURL:e||"",index:t.props.index,hasPrime:(0,Ut.xg)(t.props.userData),displayWidthType:t.props.displayWidthType,experimentData:t.props.experimentData})},t}return(0,r.__extends)(t,e),t.prototype.componentDidMount=function(){this.reportInteractiveIfReady(),this.props.impressionListener.registerImpressionCallback(this.trackImpression)},t.prototype.componentDidUpdate=function(e){this.reportInteractiveIfReady(),this.offerVideo&&!this.videoPlaying&&(this.offerVideo.setAttribute("muted","muted"),this.offerVideo.play(),this.videoPlaying=!0),this.handlePrimeOfferClaimPubsubMessage(this.props.pubsubClaimMessage,e.pubsubClaimMessage)},t.prototype.reportInteractiveIfReady=function(){this.shouldReportInteractive&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e=this.props.offer;if(e){var t=this.props.orientation||Ut.pG.Default;return(0,Ut.RN)(t)?this.renderVerticalLayout(e):this.renderHorizontalLayout(e)}return null},t.prototype.renderDismissButton=function(){return(0,Ut.xg)(this.props.userData)?(0,a.jsx)(o.P,{className:"prime-offer__dismiss",margin:{top:.5},padding:{top:1,right:.5},zIndex:s.Py.Above,children:(0,a.jsx)(st,{onHover:this.onDismissHover,children:(0,a.jsx)(C.a2,{"aria-label":(0,m.hw)("Dismiss","PrimeOffer"),"data-a-target":at.PrimeOfferDismissButton,"data-test-selector":at.PrimeOfferDismissButton,icon:Pt.g,onClick:this.dismissOffer,size:Tt.f.Small})})}):null},t.prototype.renderHeader=function(e){var t,n;return!!(null===(t=e.content)||void 0===t?void 0:t.ctaText)?(0,a.jsxs)(o.P,{padding:{y:.5},children:[this.renderTitle(e),this.renderSubTitle(null===(n=e.content)||void 0===n?void 0:n.shortDescription,"prime-offer__short-description")]}):(0,a.jsxs)(o.P,{padding:{y:.5},children:[this.renderGameTitle(e),this.renderTitle(e)]})},t.prototype.renderTitle=function(e){return(0,a.jsx)(o.P,{"data-a-target":at.PrimeOfferTitle,"data-test-selector":at.PrimeOfferTitle,className:"prime-offer__title",alignItems:s.k2.Start,display:s.nl.Flex,children:(0,a.jsx)(It(),{className:"prime-offer__title__markdown",renderers:{root:"h4"},source:e.title||""})})},t.prototype.renderSubTitle=function(e,t){return e&&(0,a.jsx)(o.P,{"data-a-target":at.PrimeOfferGameTitle,"data-test-selector":at.PrimeOfferGameTitle,className:t,display:s.nl.Flex,children:(0,a.jsx)(Z.N,{color:s.Q1.Alt2,fontSize:s.Z4.Size5,children:e})})},t.prototype.renderGameTitle=function(e){var t=e.gameTitle,n=e.tags.includes("FGWP");return t&&!n?this.renderSubTitle(t,"prime-offer__game-title"):null},t.prototype.isCurrentOfferClaimed=function(e){return(e.offerEligibility||{isClaimed:!1}).isClaimed},Object.defineProperty(t.prototype,"shouldReportInteractive",{get:function(){return!this.isUserDataLoading||this.isUserDataError},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUserDataLoading",{get:function(){var e=this.props.userData;return e&&e.loading},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUserDataError",{get:function(){var e=this.props.userData;return e&&e.error},enumerable:!1,configurable:!0}),t.prototype.handlePrimeOfferClaimPubsubMessage=function(e,t){if(e&&(!t||t!==e)){var n=e.type===gt.PD.PrimeGamingOfferClaimSuccess;this.setState({claimed:n})}},t}(d.Component),Qt=function(e){return"".concat(at.PrimeOffer,"-").concat(e)},Jt=(0,f.Zz)((0,v._v)(Gt(),{name:"userData"}),(0,v._v)(Yt(),{name:"placeOrder"}),(0,M.W)("PrimeOffer"),(0,Dt.m)("PrimeOffer",{pixels:100}))(Kt),en=n(718059),tn=function(){return(0,a.jsx)(Ee.M,{linkTo:(0,bt.xo)(m.$W.tryPrimeURI,{ref_:"TCMHB"}),targetBlank:!0,"aria-label":(0,m.hw)("Go to Prime Gaming home page","PrimeOfferHeaderCard"),children:(0,a.jsx)(fe.L,{"data-testid":"prime-event-image",alt:(0,m.hw)("Artwork of Prime Gaming special event related games.","PrimeOfferHeaderCard"),src:"https://m.media-amazon.com/images/G/01/sm/secretlevel/165527_-_ASSET_A_-_900x240.jpg"})})},nn=new Set(["FAKE-BETA-COUNTRY"]);function rn(){var e=(0,vt.If)()||"";return""===e||nn.has(e)}var an,on=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t.prototype.render=function(){var e=(0,m.hw)("View all Prime Gaming offers, even those you've dismissed.","PrimeOfferHeaderCard");return(0,a.jsxs)(o.P,{borderBottom:!0,className:"prime-offer-header-card",padding:2,children:[!rn()&&(0,a.jsx)(en.K,{name:"prime_gaming_special_event_image",children:(0,a.jsx)(o.P,{margin:{bottom:1},children:(0,a.jsx)(tn,{})})}),(0,a.jsx)(o.P,{padding:{bottom:1},children:(0,a.jsx)(Z.N,{children:e})}),(0,a.jsx)(_t,{})]})},t}(d.Component),sn=(0,M.W)("PrimeOfferHeaderCard",{autoReportInteractive:!0})(on),ln=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e=this.props.orientation||Ut.pG.Default,t=(0,Ut.RN)(e);return(0,a.jsxs)(o.P,{className:"prime-offer-placeholder",alignItems:s.k2.Center,borderBottom:t,padding:{x:2,y:1},display:t?s.nl.Block:s.nl.InlineBlock,fullWidth:t,children:[(0,a.jsx)(o.P,{className:"prime-offer-placeholder__title",padding:{y:.5},children:(0,a.jsx)(pt.Or,{height:20})}),(0,a.jsx)(pt.Or,{height:160}),(0,a.jsx)(o.P,{className:"prime-offer-placeholder__description",padding:{y:.5},children:(0,a.jsx)(pt.Or,{height:20,width:160})}),(0,a.jsx)(o.P,{className:"prime-offer-placeholder__publisher",children:(0,a.jsx)(pt.Or,{height:20,width:80})}),(0,a.jsx)(o.P,{className:"prime-offer-placeholder__claim",margin:{top:2,bottom:1},children:(0,a.jsx)(pt.Or,{height:40})})]})},t}(d.Component),cn=(0,M.W)("PrimeOfferPlaceholder",{autoReportInteractive:!0})(ln),un=n(853296),dn=n(471417),pn=n(418460),fn=n(705371),mn=n(771242),hn=n(145463),gn=(0,M.W)("PrimeSubscriptionUpsell",{autoReportInteractive:!0})((function(e){var t=e.signedInToTwitch,n=e.hasPrime,i=(0,Ot.yB)(),r="".concat(m.$W.tryPrimeURI,"links/twitch/manage/"),c=function(){return(0,a.jsxs)(o.P,{children:[(0,a.jsxs)(o.P,{margin:{bottom:2},display:s.nl.Flex,flexDirection:s.bo.Row,gap:.5,alignItems:s.k2.Center,children:[(0,a.jsx)(un.i,{size:"1.5rem",fillColor:dn.jo.Success}),(0,a.jsx)(Z.N,{type:q.M2.P,children:(0,m.hw)("Successfully linked Twitch and Amazon accounts.","PrimeSubscriptionUpsell")})]}),(0,a.jsx)(Z.N,{type:q.M2.P,children:(0,m.hw)("To use your credit, go to a channel of your choice and select ‘Subscribe’ and enable ‘Prime Sub’.","PrimeSubscriptionUpsell")})]})},u=function(){return(0,a.jsxs)(o.P,{children:[(0,a.jsx)(Z.N,{type:q.M2.P,children:(0,m.hw)("With Prime Gaming, you get a Twitch channel subscription to support a Twitch streamer each month. You'll unlock channel specific Subscriber perks and support your favorite Twitch streamers, all included in your Prime Membership.","PrimeSubscriptionUpsell")}),d(pn.C,(0,m.hw)("Channel-specific Subscriber perks","PrimeSubscriptionUpsell")),d(fn.t,(0,m.hw)("Exclusive chat colors and emotes","PrimeSubscriptionUpsell")),d(mn.g,(0,m.hw)("Exclusive badges","PrimeSubscriptionUpsell"))]})},d=function(e,t){return(0,a.jsxs)(o.P,{margin:{left:1,top:2},display:s.nl.Flex,flexDirection:s.bo.Row,gap:1,children:[(0,a.jsx)(e,{}),(0,a.jsx)(Z.N,{type:q.M2.P,children:t})]})},p=function(){var e=(0,m.hw)("Sign in to claim","PrimeSubscriptionUpsell");return(0,a.jsxs)(o.P,{children:[(0,a.jsx)(Z.N,{type:q.M2.P,fontWeight:s.IT.Bold,margin:{bottom:.5},children:(0,m.hw)("Already an Amazon Prime member?","PrimeSubscriptionUpsell")}),(0,a.jsx)(o.P,{className:"prime-sub-crown-upsell__button",children:(0,a.jsx)(N.$n,{fullWidth:!0,"aria-label":e,linkTo:(0,bt.xo)(m.$W.tryPrimeURI,{twitchReferral:i,ref_:"CTCSSI"}),targetBlank:!0,children:e})})]})},f=function(){var e=(0,m.hw)("Link Twitch and Amazon accounts","PrimeSubscriptionUpsell");return(0,a.jsx)(o.P,{className:"prime-sub-crown-upsell__button",children:(0,a.jsx)(N.$n,{fullWidth:!0,"aria-label":e,linkTo:(0,bt.xo)(r,{twitchReferral:i,ref_:"CTCSLA"}),targetBlank:!0,children:e})})},h=function(){var e=(0,m.hw)("Explore channels","PrimeSubscriptionUpsell");return(0,a.jsx)(N.$n,{fullWidth:!0,"aria-label":e,linkTo:(0,hn.VV)("/directory"),children:e})},g=function(){var e=(0,m.hw)("Manage linked accounts","PrimeSubscriptionUpsell");return(0,a.jsx)(N.$n,{fullWidth:!0,variant:N.VQ.Secondary,"aria-label":e,linkTo:(0,bt.xo)(r,{twitchReferral:i,ref_:"CTCSML"}),targetBlank:!0,children:e})};return(0,a.jsxs)(o.P,{className:"prime-sub-crown-upsell",margin:{top:2,right:2,left:2},children:[(0,a.jsx)(Z.N,{type:q.M2.H4,children:(0,m.hw)("Claim your Twitch channel sub","PrimeSubscriptionUpsell")}),(0,a.jsx)(l.S,{margin:{top:.5},borderRadius:Ct.Z.Medium,children:(0,a.jsx)(fe.L,{src:"https://m.media-amazon.com/images/G/01/sm/twitch-hub/twitch-art-official-med-cropped2x.png",alt:(0,m.hw)("Twitch logo with controller","PrimeSubscriptionUpsell")})}),(0,a.jsx)(o.P,{margin:{top:2,bottom:2},children:t&&n?c():u()}),(0,a.jsx)(o.P,{margin:{bottom:2},children:t?n?(0,a.jsxs)(o.P,{children:[(0,a.jsx)(o.P,{className:"prime-sub-crown-upsell__button",margin:{bottom:1},children:h()}),g()]}):f():p()})]})})),vn=(0,M.W)("ExplorePrimeButton",{autoReportInteractive:!0})((function(e){var t=(0,Ot.yB)(),n=function(){if(e.externalURL)return(0,bt.xo)(e.externalURL,{twitchReferral:t,ref_:e.externalReftag||bt.lN});var n=e.externalReftag||bt.lN,i=window.location.pathname.substring(1);return(0,bt.r3)(n,i,t,"explore")};return(0,a.jsx)(o.P,{className:"explore-prime-button",margin:{top:2,bottom:1},children:(0,a.jsx)(st,{onHover:function(){(0,Ot.jc)({externalURL:n(),hasPrime:!1,experimentData:e.experimentData})},children:(0,a.jsx)(N.$n,{fullWidth:!0,linkTo:n(),targetBlank:!0,onClick:function(){(0,Ot.dC)({externalURL:n(),hasPrime:!1,experimentData:e.experimentData})},children:(0,a.jsx)(c.Cb,{variant:"default",externalLinkIcon:!0,className:"explore-prime-button-inner-value",hoverColorInherit:!1,underline:!1,hoverUnderlineNone:!0,children:(0,m.hw)("Claim now","PrimeUpsellButton")})})})})})),kn=(0,M.W)("PrimeUpsell",{autoReportInteractive:!0})((function(e){var t=(0,m.hw)("Already have Prime? ","PrimeUpsell"),n="IN"===(0,vt.If)();return(0,a.jsxs)(o.P,{"data-test-target":"prime-offers-upsell","data-a-target":"prime-offers-upsell",className:"prime-offers-upsell",alignItems:s.k2.Center,padding:{x:2,y:1},borderBottom:!0,children:[(0,a.jsxs)(o.P,{className:"prime-offers-upsell-callout",margin:{bottom:1},alignItems:s.k2.Start,children:[(0,a.jsx)(Z.N,{type:q.M2.H3,className:"prime-offers-upsell-callout__upsell-heading-text",children:(0,m.hw)("Claim your games today","PrimeUpsell")}),(0,a.jsxs)(Z.N,{type:q.M2.H4,className:"prime-offers-upsell-callout__icon-text",children:[(0,a.jsx)(o.P,{className:"icon",children:(0,a.jsx)(un.i,{size:14})}),(0,m.hw)("Included with Amazon Prime","PrimeUpsell")]})]}),n?(0,a.jsx)(Z.N,{type:q.M2.P,children:(0,m.hw)("Get games every week and other gaming benefits.","PrimeUpsell")}):(0,a.jsx)(Z.N,{type:q.M2.P,children:(0,m.hw)("Get a monthly Twitch channel sub for your favorite streamer, games every week, and other gaming benefits.","PrimeUpsell")}),!rn()&&(0,a.jsx)(en.K,{name:"prime_gaming_special_event_image",children:(0,a.jsx)(o.P,{margin:{top:1},children:(0,a.jsx)(tn,{})})}),(0,a.jsx)(vn,{trackingProperties:e.trackingProperties,experimentData:e.experimentData}),(0,a.jsxs)(o.P,{textAlign:s.nO.Center,className:"prime-offers-upsell-links",children:[(0,a.jsx)(Z.N,{type:q.M2.P,className:"prime-offers-upsell-sign-in-label",children:t}),(0,a.jsx)(c.Cb,{externalLinkIcon:!0,linkTo:function(){var e=window.location.pathname.substring(1),t=(0,Ot.yB)();return(0,bt.r3)("",e,t,"sign")}(),targetBlank:!0,hoverUnderlineNone:!0,underline:!1,className:"prime-upsell-sign-in-link",children:(0,m.hw)("Sign in","PrimeUpsell")})]})]})}));!function(e){e.Game="Game",e.InGameLoot="InGameLoot",e.All="All",e.PriorityOffers="PriorityOffers"}(an||(an={}));var xn,bn=n(420517),yn=n.n(bn),_n=n(659456),Sn=n(551686);!function(e){e.CallOfDuty="call of duty"}(xn||(xn={}));var wn,Cn,Pn=function(e,t){return e.includes(xn.CallOfDuty)&&t.includes(xn.CallOfDuty)};!function(e){e[e.Offers=0]="Offers",e[e.Subcredit=1]="Subcredit"}(Cn||(Cn={}));var Tn=function(e,t){return t?e?(0,a.jsx)(o.P,{padding:{x:1},className:"prime-offers__title__placeholder",children:(0,a.jsx)(pt.Or,{height:28,width:300})}):(0,a.jsx)(o.P,{margin:{y:1},className:"prime-offers__title",children:(0,a.jsx)(me.hE,{type:q.M2.H3,children:t})}):null},Nn=function(e,t,n){if(null==t?void 0:t.loading)return!0;var i=null==e?void 0:e.length;return i||!i&&!n},In=function(e,t,n,i,r){if(!(null==e?void 0:e.primeOffersWithEligibility))return[];var a=e.primeOffersWithEligibility,o=Dn(),s=t?jn(a,n):[],l=Bn(a),c=a.filter((function(e){return!s.includes(e.catalogOfferID)&&!o.includes(e.catalogOfferID)&&!l.includes(e.catalogOfferID)}));if((0,Ut.F6)(i)){var u=c.filter((function(e){return On(e)})).sort(Ut.OO),d=Un(e,u,r),p=c.filter((function(e){return!On(e)})).sort(Ut.OO);return Un(e,p,r).concat(d)}return Un(e,c,r).slice().sort(Ut.OO)},Dn=function(){return m.Zn.get("prime-crown-hidden-ids",["20b44d5c-6d94-eee1-7f5d-e3c5baa5cd67","94b44d55-bdb7-ea3b-981d-4e8e28ad764b","32b44b56-38a9-ddc3-486c-c7c073bacb9f"])},jn=function(e,t){for(var n=[],i=(0,Ut.cd)(),r=0,a=e;r<a.length;r++){var o=a[r];(i.includes(o.catalogOfferID)||t.includes(o.catalogOfferID))&&n.push(o.catalogOfferID)}return n},Bn=function(e){for(var t=[],n=0,i=e;n<i.length;n++){var r=i[n];r.tags.includes("TEMPLAR")&&t.push(r.catalogOfferID)}return t},On=function(e){var t,n;return!(null===(t=e.content)||void 0===t?void 0:t.externalURL)&&(null===(n=e.offerEligibility)||void 0===n?void 0:n.isClaimed)},Un=function(e,t,n){var i=En(e)||[];return n===an.Game?t.filter((function(e){return i.includes(e.catalogOfferID)})).sort(Ut.OO):n===an.InGameLoot?t.filter((function(e){return!i.includes(e.catalogOfferID)})).sort(Ut.OO):t},En=function(e){return e?e.primeOffersWithEligibility.filter((function(e){return e.tags.includes("FGWP")})).map((function(e){return e.catalogOfferID})):[]},Ln=function(e,t,n,i){if(e&&!(0,Ut.eT)(e)&&!(0,Ut.xg)(e)&&!t)return(0,a.jsx)(kn,{experimentData:i,trackingProperties:n})},Fn=function(e){for(var t=[],n=0;n<3;++n){var i=(0,a.jsx)(cn,{orientation:e},n);t.push(i)}return t},Rn=function(e){if(e&&e.length&&!(0,Ut.jo)(Ut.F2.DateOverride)){var t=(0,Ut.cd)(),n=e.map((function(e){return e.catalogOfferID}));(0,Ut.Fe)(t.filter((function(e){return n.includes(e)})))}},An=function(e,t,n){if((!n||n!==t)&&t)switch(t.type){case gt.PD.PrimeGamingOfferClaimSuccess:case gt.PD.PrimeGamingOfferClaimFailed:e((function(e){var n;return(0,r.__assign)((0,r.__assign)({},e),((n={})[t.data.offerId]=t,n))}));break;default:return}},Mn=(0,f.Zz)((0,v._v)(yn(),{name:"offersData",options:function(){var e,t;return{variables:{dateOverride:null===(e=(0,Ut.jo)(Ut.F2.DateOverride))||void 0===e?void 0:e.toString(),countryCode:null===(t=(0,Ut.jo)(Ut.F2.CountryCode))||void 0===t?void 0:t.toString()}}},skip:function(e){return!e.firstPageLoaded&&!e.ignoreFirstPageLoad}}),(0,v._v)(Gt(),{name:"userData",skip:function(e){return!e.firstPageLoaded&&!e.ignoreFirstPageLoad}}),(0,ht.U)([{topic:function(e){return(0,kt.Qo)((0,Ut.F6)(e.userData))},skip:function(e){return""===(0,Ut.F6)(e.userData)},mapMessageTypesToProps:(wn={},wn[gt.PD.PrimeGamingOfferClaimSuccess]="offerClaimMessage",wn[gt.PD.PrimeGamingOfferClaimFailed]="offerClaimMessage",wn)}]),(0,M.W)("PrimeOfferList"))((function(e){var t=e.hideWithNoOffers,n=e.latencyTracking,i=e.offersData,l=e.offerFilterType,c=e.pubsub,u=e.sectionTitle,p=e.trackingProperties,f=e.userData,h=(0,d.useState)(!0),g=h[0],v=h[1],k=(0,d.useState)((0,Ut.cd)()),x=k[0],b=k[1],y=(0,d.useState)({}),_=y[0],S=y[1],w=(0,d.useState)(!1),C=w[0],P=w[1],T=(0,d.useState)(!1),N=T[0],I=T[1],D=(0,d.useState)(!1),j=D[0],B=D[1],O=(0,d.useState)([]),U=O[0],E=O[1],L=d.useState(Cn.Offers),F=L[0],R=L[1],A=(0,ft.Z)(c),M=function(){var e,t,n,i=(0,_n.N)().channelLogin,r=(0,Sn.c)(null!=i?i:"",null).data;return{currentChannelGameName:(null===(n=null===(t=null===(e=null==r?void 0:r.user)||void 0===e?void 0:e.lastBroadcast)||void 0===t?void 0:t.game)||void 0===n?void 0:n.name)||null}}().currentChannelGameName,W=function(e){var t=(0,d.useState)([]),n=t[0],i=t[1];return(0,d.useEffect)((function(){e.length&&i(e)}),[e,i]),{filteredOffers:n}}(U).filteredOffers,G={experimentId:"",experimentTreatment:null,currentChannelGameName:M,currentActiveExperimentData:null,hasPrime:(0,Ut.xg)(f)};(0,d.useEffect)((function(){!i||(null==i?void 0:i.loading)?I(!0):(Rn(i.primeOffersWithEligibility),I(!1))}),[i]),(0,d.useMemo)((function(){var e,t,n;(null===(e=null==i?void 0:i.primeOffersWithEligibility)||void 0===e?void 0:e.length)&&M?(n=function(e,t){return t?e.slice().sort((function(e,n){var i,r,a=null===(i=e.gameTitle)||void 0===i?void 0:i.toLowerCase(),o=null===(r=n.gameTitle)||void 0===r?void 0:r.toLowerCase(),s=null==t?void 0:t.toLowerCase();if(a===s&&o!==s)return-1;if(a!==s&&o===s)return 1;if(a===o&&a===s)return e.priority-n.priority;var l=a.includes(s)||Pn(a,s),c=o.includes(s)||Pn(o,s);return l&&!c?-1:!l&&c?1:l&&c?e.priority-n.priority:0})):e}(n=In(i,C,x,f,l),M),E(n)):(null===(t=null==i?void 0:i.primeOffersWithEligibility)||void 0===t?void 0:t.length)&&(n=In(i,C,x,f,l),E(n))}),[i,C,x,f,l,M]),(0,d.useEffect)((function(){P((0,Ut.xg)(f))}),[f]),(0,d.useEffect)((function(){(null==f?void 0:f.loading)&&!(null==f?void 0:f.error)||(null==i?void 0:i.loading)&&!(null==i?void 0:i.error)||n.reportInteractive()}),[n,i,f]),(0,d.useEffect)((function(){var e=(0,Ut.F6)(f),t=(0,kt.Qo)(e),n=t?c.status[t]:null;e&&n&&!n.error&&!n.isSubscribing&&An(S,c.messages.offerClaimMessage,null==A?void 0:A.messages.offerClaimMessage)}),[A,c,f]),(0,d.useEffect)((function(){Nn(U,i,t)&&B(!0)}),[U,i,t]);var V=Ut.pG.Vertical,H=V.toLowerCase(),z=(0,Ut.hT)("prime-offer-list",V),X="prime-offer-list__content prime-offer-list__content--".concat(H," prime-offer-list__content--").concat(g?"more-offers-to-see":"no-more-offers-to-see"),Z=function(){return(0,a.jsxs)(o.P,{"data-target":"prime-offer-list",className:"prime-offer-list__content--mobile",children:[Tn(N,u),(0,Ut.xg)(f)&&(0,a.jsx)(sn,{},"headerCard"),q(Ot.B$.Narrow,W)]})},q=function(t,n){if(N)return Fn(V);if(0!==n.length){var i=n[n.length-1];return n.map((function(n,r){return(0,a.jsx)(o.P,{display:s.nl.InlineBlock,children:(0,a.jsx)(Jt,{trackingProperties:p,externalReftag:e.externalReftag,offer:n,isLast:i.catalogOfferID===n.catalogOfferID,index:r,orientation:V,displayWidthType:t,toggleCrownMenu:e.toggleCrownMenu,dismissOffer:$,pubsubClaimMessage:_[n.catalogOfferID],experimentData:G},n.catalogOfferID)},n.catalogOfferID)}))}return(0,a.jsx)(wt,{linkToLootPage:(0,Ut.xg)(f)})},$=function(e){var t;(null===(t=null==f?void 0:f.currentUser)||void 0===t?void 0:t.id)&&((0,Ut.Fe)((0,r.__spreadArray)((0,r.__spreadArray)([],(0,Ut.cd)(),!0),[e],!1)),b((function(t){return(0,r.__spreadArray)((0,r.__spreadArray)([],t,!0),[e],!1)})))},K=(0,nt.U)((0,vt.If)()||"");return(0,a.jsxs)(o.P,{children:[j&&(0,a.jsx)(Y.Vq,{className:z,suppressScrollX:!0,children:(0,a.jsxs)(o.P,{className:X,alignItems:s.k2.Center,padding:{x:1,top:1,bottom:C?void 0:2},children:[Ln(f,e.hideUpsell,p,G),K?(0,a.jsxs)(o.P,{margin:{top:1},children:[(0,a.jsx)(ut.t,{activeTabIndex:F,borderBottom:!0,size:dt.v.Default,justifyContent:s.A9.Start,height:"3em",tabs:[{label:(0,m.hw)("Games","PrimeOfferListPresentation"),onClick:function(){return R(Cn.Offers)},padding:{x:2}},{label:(0,m.hw)("Twitch channel sub","PrimeOfferListPresentation"),onClick:function(){return R(Cn.Subcredit)},padding:{x:2}}]}),F===Cn.Offers&&Z(),F===Cn.Subcredit&&(0,a.jsx)(gn,{signedInToTwitch:!!(0,Ut.F6)(f),hasPrime:(0,Ut.xg)(f)})]}):Z(),(0,a.jsx)(mt.F,{visible:function(){g&&v(!1)},notVisible:function(){g||v(!0)},pixelThreshold:50})]})}),!j&&null]})}));var Wn,Gn,Vn=(0,p.Ng)((function(e){return{firstPageLoaded:e.session.firstPageLoaded}}))(Mn),Hn=n(101795),zn=n(79690),Xn=n.n(zn);!function(e){e.Crown="crown",e.PrimePage="primepage"}(Gn||(Gn={}));var Zn=((Wn={})[Gn.Crown]={US:Hn.MV.CrownUs,UK:Hn.MV.CrownUk},Wn[Gn.PrimePage]={US:Hn.MV.PrimePageUs,UK:Hn.MV.PrimePageUk},Wn),qn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t.prototype.componentDidMount=function(){this.reportInteractive()},t.prototype.componentDidUpdate=function(){this.reportInteractive()},t.prototype.render=function(){if(!this.props.data||this.props.data.loading||this.props.data.error)return null;var e=this.props.data.requestInfo.countryCode,t=Zn[this.props.location][e];return(0,a.jsx)(Hn.zJ,{settingsKey:t,countryCode:e})},t.prototype.reportInteractive=function(){!this.props.data||this.props.data.loading&&!this.props.data.error||this.props.latencyTracking.reportInteractive()},t}(d.Component),$n=(0,f.Zz)((0,v._v)(Xn()),(0,M.W)("PrimeTracking"))(qn),Yn=n(605047),Kn=n.n(Yn),Qn=n(982703),Jn=n.n(Qn),ei=function(e){function t(n){var i=e.call(this,n)||this;return i.hasTrackedLoad=!1,i.saveCrownMenuRef=function(e){return i.crownMenuRef=e},i.toggleCrownMenu=function(e){var t;null===(t=i.crownMenuRef)||void 0===t||t.toggleBalloon(e)},i.closeCrownMenu=function(){var e;null===(e=i.crownMenuRef)||void 0===e||e.toggleBalloon(!1)},i.onToggleMenu=function(e){i.state.loadTracking||i.setState({loadTracking:!0}),i.seeOffers(),e&&i.setState({numOfUnseenOffers:0}),(0,Ot.kd)(!e,{hasPrime:i.hasPrime(),numberOfOffers:i.getNumberOfOffers()}),i.refreshImpressionTracking()},i.refreshImpressionTracking=function(){window.dispatchEvent(new Event("resize"))},i.getNumberOfOffers=function(){var e=i.props.offersData,t=e&&e.primeOffersWithoutEligibility;return t&&t.length||0},i.onHover=function(){(0,Ot.D0)({hasPrime:i.hasPrime()})},i.hasPrime=function(e){return void 0===e&&(e=i.props),!!(e.userData&&e.userData.currentUser&&e.userData.currentUser.hasPrime)},i.registerOffersLoadedEvent=function(){return i.props.latencyTracking.registerCustomEvent({benchmark:1e3,group:it.EX.TwitchPrime,key:it.S8.PrimeOfferLoaded,label:it.FK.Loaded,start:it.P_.Registration})},i.getUnseenOffers=function(e){var n=e.offersData;if(n&&!n.loading&&!n.error){var r=n.primeOffersWithoutEligibility||[];i.setState({numOfUnseenOffers:r.filter(t.offerIsUnseen).length})}},i.seeOffers=function(){var e=i.props.offersData;if(e&&!e.loading&&!e.error){var t=(e.primeOffersWithoutEligibility||[]).map((function(e){return"".concat(e.catalogOfferID)}));(0,Ut.$R)(t)}},i.shouldReportInteractive=function(){return(!i.isUserDataLoading||i.isUserDataError)&&(!i.isOffersDataLoading||i.isOffersDataError)},i.state={numOfUnseenOffers:0,loadTracking:i.showOffersByDefault()},i}return(0,r.__extends)(t,e),t.getDerivedStateFromProps=function(e){var n=e.offersData;return!n||n.loading||n.error?null:{numOfUnseenOffers:(n.primeOffersWithoutEligibility||[]).filter(t.offerIsUnseen).length}},t.prototype.componentDidMount=function(){this.shouldReportInteractive()&&this.props.latencyTracking.reportInteractive(),this.offersLoadedEvent=this.registerOffersLoadedEvent(),this.getUnseenOffers(this.props)},t.prototype.componentDidUpdate=function(){this.shouldReportInteractive()&&this.props.latencyTracking.reportInteractive();var e=this.props.offersData,t=this.props.userData;if(!this.hasTrackedLoad&&e&&!e.loading&&t&&!t.loading){this.hasTrackedLoad=!0,this.offersLoadedEvent&&this.props.latencyTracking.reportCustomEvent(this.offersLoadedEvent);var n=e.primeOffersWithoutEligibility,i=n&&n.length;(0,Ot.Gv)({hasPrime:this.hasPrime(this.props),numberOfOffers:i||0})}},t.prototype.render=function(){var e,t;return this.props.userData&&this.props.userData.requestInfo&&(0,nt.U)(this.props.userData.requestInfo.countryCode)?(e=this.state.numOfUnseenOffers>0?(0,m.hw)("New from Prime","PrimeOffers"):(0,m.hw)("Prime Gaming benefits","PrimeOffers"),this.state.loadTracking&&(t=(0,a.jsx)($n,{location:Gn.Crown})),(0,a.jsxs)(o.P,{className:"prime-offers",position:s.yX.Relative,children:[(0,a.jsxs)(rt.U,{onToggle:this.onToggleMenu,openByDefault:this.showOffersByDefault(),tooltipLabel:e,ref:this.saveCrownMenuRef,preloadOnInteraction:!0,children:[(0,a.jsx)(st,{onHover:this.onHover,children:(0,a.jsx)(C.a2,{"aria-label":(0,m.hw)("Prime offers","PrimeOffers"),icon:Qe.$,"data-a-target":"prime-offers-icon","data-target":"prime-offers-icon"})}),(0,a.jsxs)(Je.N,{popoverId:"PrimeOfferPopover",size:j.$V.Large,children:[(0,a.jsx)(ct,{numOfUnseenOffers:this.state.numOfUnseenOffers,closeCrownMenu:this.closeCrownMenu}),(0,a.jsx)(o.P,{"data-a-target":"offers-list",children:(0,a.jsx)(Vn,{toggleCrownMenu:this.toggleCrownMenu,trackingProperties:{content:"crown_menu",medium:"prime_upsell_button"}})}),t]})]}),this.renderUnseenOffersDisplay()]})):null},t.prototype.showOffersByDefault=function(){var e=location.search,t=tt.parse(e);return t&&!!t.expandoffers||this.props.openByDefault},t.prototype.renderUnseenOffersDisplay=function(){var e=this.state.numOfUnseenOffers;if(e)return(0,a.jsx)(o.P,{className:"prime-offers__pill",position:s.yX.Absolute,fontSize:s.Z4.Size7,attachTop:!0,attachRight:!0,children:(0,a.jsx)(ie.X5,{type:ie.as.BounceIn,duration:ie.J6.Medium,timing:ie.pn.EaseIn,enabled:e>0,children:(0,a.jsx)(et.h,{value:e,mask:s.VS.Base})})})},Object.defineProperty(t.prototype,"isUserDataLoading",{get:function(){var e=this.props.userData;return e&&e.loading},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUserDataError",{get:function(){var e=this.props.userData;return e&&e.error},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isOffersDataLoading",{get:function(){var e=this.props.offersData;return e&&e.loading},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isOffersDataError",{get:function(){var e=this.props.offersData;return e&&e.error},enumerable:!1,configurable:!0}),t.offerIsUnseen=function(e){var n=(0,Ut.g1)();return!t.getHiddenCrownOfferIds().includes(e.catalogOfferID)&&!n.includes(e.catalogOfferID)},t.getHiddenCrownOfferIds=function(){return m.Zn.get("prime-crown-hidden-ids",[])},t}(d.Component),ti=(0,f.Zz)((0,v._v)(Kn(),{name:"offersData",skip:function(e){return!e.firstPageLoaded&&!e.openByDefault},options:function(){var e,t;return{variables:{dateOverride:null===(e=(0,Ut.jo)(Ut.F2.DateOverride))||void 0===e?void 0:e.toString(),countryCode:null===(t=(0,Ut.jo)(Ut.F2.CountryCode))||void 0===t?void 0:t.toString()}}}}),(0,v._v)(Jn(),{name:"userData"}),(0,M.W)("PrimeOffers"))(ei);var ni=(0,p.Ng)((function(e){return{firstPageLoaded:!!e.session.firstPageLoaded}}))(ti),ii=n(449041),ri=n(616169),ai=n.n(ri),oi="5rem",si=g.x.wrap((function(){return Promise.all([n.e(79025),n.e(85459),n.e(46663),n.e(88499),n.e(34675),n.e(70352),n.e(87965),n.e(48133),n.e(92432),n.e(31813)]).then(n.bind(n,432983))}),"Whispers",{failSilently:!0,placeholder:null}),li=(0,h.U)({name:"TopNav__TwitchPrimeCrown",category:_.u.Monetization}),ci=li.Available,ui=li.Unavailable,di=(0,h.U)({name:"TopNav__BitsButton",category:_.u.Monetization}),pi=di.Available,fi=di.Unavailable,mi=(0,h.U)({name:"TopNav__TurboButton",category:_.u.Monetization}),hi=mi.Available,gi=mi.Unavailable,vi=function(e){function t(t){var n=e.call(this,t)||this;return n.logger=m.x2.logger.withCategory("top-nav"),n.renderTwitchPrimeCrown=function(){return n.state.isError?(0,a.jsx)(ui,{reason:"error state"}):(0,a.jsx)(ci,{children:(0,a.jsx)(o.P,{className:"top-nav__prime",flexGrow:0,flexShrink:0,margin:{x:.5},alignSelf:s.gB.Center,flexWrap:s.I4.NoWrap,children:(0,a.jsx)(ni,{})})})},n.renderOnsiteNotifications=function(){return n.state.isError||!n.props.user?null:(0,a.jsx)(o.P,{flexGrow:0,flexShrink:0,margin:{x:.5},alignSelf:s.gB.Center,flexWrap:s.I4.NoWrap,children:(0,a.jsx)(je.H,{})})},n.renderWhispers=function(){return n.state.isError||!n.props.user?null:(0,a.jsx)(o.P,{flexGrow:0,flexShrink:0,margin:{x:.5},alignSelf:s.gB.Center,flexWrap:s.I4.NoWrap,children:n.props.isWhispersLoaded&&(0,a.jsx)(si,{})})},n.renderBitsButton=function(){var e,t,i;if(n.state.isError)return(0,a.jsx)(fi,{reason:"error state"});if(!n.props.user)return(0,a.jsx)(pi,{});var r=null===(i=null===(t=null===(e=n.props.data)||void 0===e?void 0:e.currentUser)||void 0===t?void 0:t.turboStatus)||void 0===i?void 0:i.hasActiveTurbo;return(0,a.jsx)(pi,{children:(0,a.jsx)(o.P,{flexGrow:0,flexShrink:0,margin:{x:.5},alignSelf:s.gB.Center,flexWrap:s.I4.NoWrap,children:(0,a.jsx)(De,{channelLogin:null,hasTurbo:r,sessionId:n.state.bitsSessionId})})})},n.renderTurboButton=function(){var e,t,i,r,l,c;if(n.state.isError)return(0,a.jsx)(gi,{reason:"error state"});if(!n.props.user||!(0,b.fX)("TV2_flag"))return(0,a.jsx)(hi,{});var u=null===(i=null===(t=null===(e=n.props.data)||void 0===e?void 0:e.currentUser)||void 0===t?void 0:t.turboStatus)||void 0===i?void 0:i.hasActiveTurbo,d=null===(c=null===(l=null===(r=n.props.data)||void 0===r?void 0:r.currentUser)||void 0===l?void 0:l.turboStatus)||void 0===c?void 0:c.hasUsedFreeTrial;return(0,a.jsx)(hi,{children:(0,a.jsx)(o.P,{flexGrow:0,flexShrink:0,margin:{x:.5},alignSelf:s.gB.Center,flexWrap:s.I4.NoWrap,children:(0,a.jsx)(o.P,{children:(0,a.jsx)(Ke.Pl,{user:n.props.user,hasTurbo:!!u,hasUsedFreeTrial:!!d})})})})},n.state={isError:!1,bitsSessionId:(0,y.aq)()},n}return(0,r.__extends)(t,e),t.prototype.componentDidMount=function(){!this.state.isError&&this.props.user&&(0,F.Z4)({sessionId:this.state.bitsSessionId,userId:this.props.user.id,location:F.Yl.GetBitsButtonTopNav})},t.prototype.componentDidCatch=function(e,t){var n=this;this.setState({isError:!0},(function(){m.x2.stats.recordComponentError("TopNav"),n.logger.errorAndReport(e,"A unhandled exception occurred in the component hierarchy",{info:t})}))},t.prototype.render=function(){var e,t,n,i,r,d,p=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.currentUser)||void 0===t?void 0:t.turboStatus)||void 0===n?void 0:n.hasActiveTurbo,f=null===(i=this.props.data)||void 0===i?void 0:i.loading;return(0,a.jsx)(l.S,{flexShrink:0,children:(0,a.jsx)("nav",{className:"top-nav","data-a-target":"top-nav-container",style:{height:oi},children:(0,a.jsxs)(o.P,{background:s.VS.Base,className:"top-nav__menu",display:s.nl.Flex,elevation:1,alignItems:s.k2.Stretch,flexWrap:s.I4.NoWrap,fullHeight:!0,children:[(0,a.jsxs)(o.P,{flexGrow:1,flexShrink:2,fullWidth:!0,display:s.nl.Flex,alignItems:s.k2.Stretch,justifyContent:s.A9.Start,flexWrap:s.I4.NoWrap,children:[(0,a.jsx)(Oe.M,{}),(0,a.jsx)(c.Cb,{linkTo:{pathname:"/",state:{medium:"twitch_topnav",content:"twitch_logo"}},onClick:(0,Ve.W)(Ve.y.HomeIcon),"data-a-target":"home-link","aria-label":(0,m.hw)("Twitch Home","TopNav"),underline:!1,children:(0,a.jsx)(u.q,{width:40,height:40,padding:.5})}),(0,a.jsx)($e,{user:this.props.user,hasPresto:(null===(d=null===(r=this.props.data)||void 0===r?void 0:r.currentUser)||void 0===d?void 0:d.hasPresto)||!1}),(0,a.jsx)(Ye.R8,{countryCode:this.props.data&&this.props.data.requestInfo&&this.props.data.requestInfo.countryCode||"",languageCode:this.props.languageCode})]}),(0,a.jsx)(o.P,{flexGrow:2,flexShrink:1,fullWidth:!0,display:s.nl.Hide,alignItems:s.k2.Center,justifyContent:s.A9.Center,breakpointSmall:{display:s.nl.Flex},children:(0,a.jsx)(o.P,{className:"top-nav__search-container",margin:{x:2},children:!this.state.isError&&(0,a.jsx)(Be.Gd,{truncated:!1})})}),(0,a.jsxs)(o.P,{flexGrow:1,flexShrink:2,fullWidth:!0,display:s.nl.Flex,alignItems:s.k2.Center,justifyContent:s.A9.End,children:[(0,a.jsx)(o.P,{flexGrow:0,flexShrink:0,padding:{x:.5},alignSelf:s.gB.Center,flexWrap:s.I4.NoWrap,breakpointSmall:{display:s.nl.Hide},children:(0,a.jsx)(Be.Gd,{truncated:!0})}),this.renderTwitchPrimeCrown(),this.renderOnsiteNotifications(),this.renderWhispers(),!f&&p&&this.renderTurboButton(),!f&&this.renderBitsButton(),!f&&!p&&this.renderTurboButton(),this.renderUserMenu()]})]})})})},t.prototype.renderUserMenu=function(){return(0,a.jsx)(o.P,{fullHeight:!0,padding:{y:1},margin:{right:1},display:s.nl.Flex,children:(0,a.jsx)(ii.B,{user:this.props.user})})},t}(d.Component);var ki=(0,f.Zz)((0,v._v)(ai()),(0,M.W)("TopNav",{autoReportInteractive:!0}),(function(e){return function(t){var n=(0,k.n)(si.getLoader(),x.L.Later);return(0,a.jsx)(e,(0,r.__assign)({},t,{isWhispersLoaded:n}))}}),(0,p.Ng)((function(e){return{languageCode:(0,S.Ul)(e),user:e.session.user}})))(vi)},253762:function(e,t,n){"use strict";n.d(t,{IT:function(){return c},hj:function(){return u},RT:function(){return d}});var i=n(112736),r=n(341749),a=n(79923),o=n(345029),s=null;var l=n(433086),c=function(){return(0,i.jP)([{targetBlank:!0,linkTo:"https://www.twitch.tv/p/legal/accessibility/","data-a-target":"accessibility-statement-link",label:(0,r.hw)("Accessibility Statement","TopNav"),onClick:(0,l.W)(l.y.AccessibilityStatement)},{targetBlank:!0,linkTo:"https://www.twitch.tv/p/legal/ad-choices","data-a-target":"ad-choices-link",label:(0,r.hw)("Ad Choices","TopNav"),onClick:(0,l.W)(l.y.AdChoices)},{targetBlank:!0,linkTo:"https://www.twitch.tv/p/legal/community-guidelines","data-a-target":"community-guidelines-link",label:(0,r.hw)("Community Guidelines","TopNav"),onClick:(0,l.W)(l.y.CommunityGuidelines)},{targetBlank:!0,linkTo:"https://www.twitch.tv/p/cookie-policy","data-a-target":"cookie-policy-link",label:(0,r.hw)("Cookie Policy","TopNav"),onClick:(0,l.W)(l.y.CookiePolicy)},{targetBlank:!0,linkTo:"https://help.twitch.tv/","data-a-target":"help-link",label:(0,r.hw)("Help","TopNav"),onClick:(0,l.W)(l.y.Help)},{targetBlank:!0,linkTo:"https://www.twitch.tv/p/legal/privacy-policy","data-a-target":"privacy-policy-link",label:(0,r.hw)("Privacy Policy","TopNav"),onClick:(0,l.W)(l.y.PrivacyPolicy)}])},u=function(){return(0,i.jP)([{targetBlank:!0,linkTo:"https://twitch.tv/privacy","data-a-target":"privacy-center-link","data-test-selector":a.TF.PrivacyCenter,label:(0,r.hw)("Privacy Center","TopNav"),onClick:(0,l.W)(l.y.PrivacyCenter)}])},d=function(){return(0,i.jP)([{targetBlank:!0,linkTo:"https://safety.twitch.tv/","data-a-target":"safety-center-link","data-test-selector":a.TF.SafetyCenter,label:(0,a.Rs)(),onClick:(0,l.W)(l.y.SafetyCenter)},{targetBlank:!0,linkTo:"https://www.twitch.tv/p/security","data-a-target":"security-link",label:(0,r.hw)("Security","TopNav"),onClick:(0,l.W)(l.y.Security)},{targetBlank:!0,linkTo:"https://www.twitch.tv/p/terms-of-service","data-a-target":"terms-link",label:(0,r.hw)("Terms","TopNav"),onClick:(0,l.W)(l.y.Terms)},(null===s&&(s=window.location.search.includes("__show-de")||"DE"===(0,o.If)()),s?{targetBlank:!0,linkTo:"https://www.twitch.tv/p/legal/de/impressum","data-a-target":"german-link",label:(0,r.hw)("Imprint","TopNavDE"),onClick:(0,l.W)(l.y.GermanDisclosure)}:null)])}},295752:function(e,t,n){"use strict";n.d(t,{j8:function(){return a},lZ:function(){return r},qP:function(){return o}});var i=n(341749),r=function(){return(0,i.hw)("Manage Turbo","TopNav")},a=function(){return(0,i.hw)("Go Ad-Free for Free","TurboFreeTrial")},o=function(){return(0,i.hw)("Try Free","TurboFreeTrial")}},554372:function(e,t,n){"use strict";n.d(t,{FF:function(){return E},Pl:function(){return L}});var i=n(331635),r=n(474848),a=n(472571),o=n(746442),s=n(914421),l=n(324602),c=n(656910),u=n(79004),d=n(96514),p=n(326046),f=n(564368),m=n(959340),h=n(552400),g=n(61604),v=n(430228),k=n.n(v),x=n(296540),b=n(415044),y=n(868238),_=n(341749),S=n(407827),w=n(312524),C=n(681685),P=n(105146),T=n(315320),N=n(718482),I=n(79923),D=n(295752),j=n(436157),B=n(807179),O=S.x.wrap((function(){return Promise.all([n.e(55152),n.e(2722)]).then(n.bind(n,597792))}),"GetTurboButtonDialog"),U=new(k());function E(e){U.emit("turboButtonToggle",e)}var L=(0,y.Zz)((0,b.Ng)(null,(function(e){return(0,y.zH)({showLoginModal:N.cd(C.W.GetTurboButton),showSubscriptionCheckout:T.Z},e)})))((function(e){var t=e.showLoginModal,n=e.showSubscriptionCheckout,v=e.user,k=e.hasTurbo,b=e.hasUsedFreeTrial,y=(0,_.hw)("Close Menu","GetTubroPopoverHeader"),S=(0,_.hw)("Get Ad-Free","GetTurboButton"),C=(0,I.Bn)(),T=(0,D.lZ)(),N=(0,x.useState)(""),E=N[0],L=N[1],F=(0,x.useState)(""),R=F[0],A=F[1],M=(0,a.p)(),W=M.dialogProps,G=M.setAnchorRef,V=M.toggle,H=M.isOpen,z=(0,w.d)(null)||w.E.Default,X=function(e){return e===w.E.LG||e===w.E.XL||e===w.E.XXL},Z=(0,x.useState)(!X(z)),q=Z[0],$=Z[1];(0,x.useEffect)((function(){$(!X(z))}),[z]);var Y=(0,x.useCallback)((function(){if(!H){var e=(0,P.k3)();L(e),(0,B.vd)({action:B.fz.OpenMenu,turbo_session_id:e,buttonFullSize:!q,cta_location:"topnav",is_free_trial:!b})}V()}),[b,H,V,q]),K=(0,x.useCallback)((function(){if(!H){var e=(0,P.k3)();L(e),(0,B.vd)({action:B.fz.OpenMenu,turbo_session_id:e,buttonFullSize:!q,cta_location:"SDAUpsell",is_free_trial:!k})}V()}),[k,H,V,q]),Q=(0,x.useCallback)((function(e){A(e),K()}),[K]);(0,x.useEffect)((function(){return U.on("turboButtonToggle",Q),function(){U.off("turboButtonToggle",Q)}}),[Q,K]);var J=function(){return k?T:(0,j.g)()&&!b?(0,D.j8)():S},ee=q?(0,r.jsx)(u.a2,{icon:k?d.o:p.g,"aria-label":J(),onClick:Y,ref:G}):(0,r.jsx)(f.$n,{variant:f.VQ.Secondary,icon:k?d.o:p.g,onClick:Y,ref:G,children:J()});return(0,r.jsxs)(m.P,{children:[(0,r.jsx)(h.m,{label:q?J():C,children:ee}),(0,r.jsx)(g.O,(0,i.__assign)({},W,{children:H&&(0,r.jsxs)(o.N,{background:s.VS.Base,popoverId:"GetTurboPopover",size:l.$V.Large,children:[(0,r.jsx)(c.D,{popoverId:"GetTurboPopover",buttonRightPrimary:{"aria-label":y,onClick:Y}}),(0,r.jsx)(O,{truncated:!0,user:v,toggleBalloon:V,showLoginModal:t,showSubscriptionCheckout:n,hasTurbo:!!k,turboSessionId:E,upsellSessionId:R})]})}))]})}))},436157:function(e,t,n){"use strict";n.d(t,{g:function(){return r}});var i=n(341749),r=function(){return i.x2.dynamicSettings.get("turbo_ft",!1)}},807179:function(e,t,n){"use strict";n.d(t,{fz:function(){return i},vd:function(){return a}});var i,r=n(341749);!function(e){e.OpenMenu="open_menu",e.GetTurbo="get_turbo_click",e.ManageTurbo="manage_turbo_click",e.ContinueTurbo="continue_sub_click",e.AdsUpsellTurbo="ads_upsell_click"}(i||(i={}));var a=function(e){return r.E5.track("turbo_menu_interaction",e)}},485694:function(e,t,n){"use strict";n.d(t,{ZU:function(){return i},oy:function(){return c}});var i,r=n(474848),a=(n(296540),n(341749)),o=n.p+"assets/prime-gaming-black-ecfbef801617248a6fc7.svg",s=n.p+"assets/prime-gaming-purple-2018720eb815c4306af7.svg",l=n.p+"assets/prime-gaming-white-16a61c65dde4c7bfa38e.svg";!function(e){e[e.Black=0]="Black",e[e.Purple=1]="Purple",e[e.White=2]="White"}(i||(i={}));var c=function(e){var t=e.width||"145",n=e.height||"39";return(0,r.jsx)("img",{alt:(0,a.hw)("Prime Gaming Logo","PrimeGamingLogo"),"data-test-selector":"prime-gaming-logo",height:n,width:t,src:function(e){switch(e){case i.Black:return o;case i.Purple:return s;case i.White:return l;default:return s}}(e.color)})}},551686:function(e,t,n){"use strict";n.d(t,{c:function(){return k}});var i=n(331635),r=n(973421),a=n.n(r),o=n(296540),s=n(145748),l=n(783321),c=n(982821),u=n(503472),d=n(456450),p=n(341749),f=n(214120),m=p.Zn.get("watch_channel_update_after_pubsub_max_rps",1e4);var h=n(156525),g=n.n(h),v=1e4;function k(e,t){var n,r,p,h,k=(0,l.IT)(g(),{variables:{channelLogin:e},skip:!e}),x=null!==(p=null===(r=null===(n=k.data)||void 0===n?void 0:n.user)||void 0===r?void 0:r.id)&&void 0!==p?p:null,b=(0,s.D)(x?(0,d.Fz)(x):"",{skip:!x,jitterMSMax:(h=null!=t?t:v,(0,f.yT)(function(e,t){return e?t/e*1e3:0}(m,h)))})[0];return(0,o.useEffect)((function(){(function(e){return(null==e?void 0:e.type)===c.PD.BroadcastSettingsUpdate})(b)&&(0,u.oR)(g(),{channelLogin:e},(function(e){var t;if(null!==b.status){var n=null;b.game&&b.game_id&&(n={__typename:"Game",name:b.game,displayName:b.game,id:b.game_id.toString()});var r=null===(t=null==e?void 0:e.user)||void 0===t?void 0:t.lastBroadcast;return a()(e,(function(e){return e.user.lastBroadcast}),(function(){return(0,i.__assign)((0,i.__assign)({},r),{title:b.status,game:n})}))}return e}),(function(e){var t;return(null===(t=e.user)||void 0===t?void 0:t.id)!==b.channel_id}))}),[b,e,t]),k}}}]);